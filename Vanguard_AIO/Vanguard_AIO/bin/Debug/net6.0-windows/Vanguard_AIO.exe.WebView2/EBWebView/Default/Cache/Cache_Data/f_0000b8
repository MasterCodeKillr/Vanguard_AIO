(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c11d56fa"],{"0a49":function(t,e,s){var a=s("9b43"),i=s("626a"),r=s("4bf8"),n=s("9def"),o=s("cd1c");t.exports=function(t,e){var s=1==t,c=2==t,l=3==t,_=4==t,m=6==t,d=5==t||m,u=e||o;return function(e,o,h){for(var p,f,k=r(e),g=i(k),v=a(o,h,3),b=n(g.length),y=0,$=s?u(e,b):c?u(e,0):void 0;b>y;y++)if((d||y in g)&&(p=g[y],f=v(p,y,k),t))if(s)$[y]=f;else if(f)switch(t){case 3:return!0;case 5:return p;case 6:return y;case 2:$.push(p)}else if(_)return!1;return m?-1:l||_?_:$}}},1169:function(t,e,s){var a=s("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},7514:function(t,e,s){"use strict";var a=s("5ca1"),i=s("0a49")(5),r="find",n=!0;r in[]&&Array(1)[r](function(){n=!1}),a(a.P+a.F*n,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(r)},cd1c:function(t,e,s){var a=s("e853");t.exports=function(t,e){return new(a(t))(e)}},d879:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"views-create create-container"},[s("Session",{on:{sessionLoaded:t.sessionLoaded}}),s("div",{staticClass:"container"},[t.message?s("Message",{attrs:{message:t.message}}):t._e(),t.init<=0&&!t.message?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-center"},[""==t.game_title_id?s("div",{staticClass:"content-select"},[s("p",{staticClass:"content-select-title"},[t._v(t._s(t.$t('Create["デッキを作成するタイトルを"]'))),s("br"),t._v(t._s(t.$t('Create["選択してください"]')))]),s("div",{staticClass:"col-12 create-logo-area"},[s("div",{staticClass:"logolist row justify-content-center"},[s("div",{staticClass:"col-md-3 col-sm-6 col-6"},[s("a",{staticClass:"trans-link",on:{click:function(e){t.selectContent(t.$store.getters.const("game_title_ids")["VG"])}}},[s("img",{attrs:{src:t.$store.getters.const("large_logo_image_path")["VG"],alt:this.$store.getters.const("game_title_names")["VG"]}})])]),s("div",{staticClass:"col-md-3 col-sm-6 col-6"},[s("a",{staticClass:"trans-link",on:{click:function(e){t.selectContent(t.$store.getters.const("game_title_ids")["WS"])}}},[s("img",{attrs:{src:t.$store.getters.const("large_logo_image_path")["WS"],alt:this.$store.getters.const("game_title_names")["WS"]}})])])])])]):t._e()])]):t._e(),t.game_title_id!=t.$store.getters.const("game_title_ids")["VG"]||t.message?t._e():s("DeckFormVG",{ref:"form_1",attrs:{param:t.param},on:{reset_result:t.reset_result,fadein:t.fadein}}),t.game_title_id!=t.$store.getters.const("game_title_ids")["WS"]||t.message?t._e():s("DeckFormWS",{ref:"form_2",attrs:{param:t.param},on:{reset_result:t.reset_result,fadein:t.fadein}}),s("b-modal",{attrs:{id:"card-popup","hide-footer":""}},[s("div",{attrs:{id:"card-popup-modal"}},[s("img",{staticClass:"card-popup-img",attrs:{src:t.$store.getters.popup_img,alt:t.$store.getters.popup_alt,title:t.$store.getters.popup_title},on:{click:function(e){return t.$bvModal.hide("card-popup")}}}),s("p",{staticClass:"card-popup-text"},[t._v(t._s(t.$store.getters.popup_text))]),s("b-button",{on:{click:function(e){return t.detail_link()}}},[t._v(t._s(t.$t('Create["TCGサイトで確認する"]')))])],1)])],1)],1)},i=[],r=(s("7f7f"),s("92b1")),n=s("0f7d"),o=s("1b62"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"deck container"},[0==t.init?s("div",{class:"deckform-container deckform-"+t.phase},[3!=t.phase?s("div",{staticClass:"create-form-logo row"},[s("div",{staticClass:"col-12 text-center"},[s("img",{attrs:{src:t.$store.getters.const("large_logo_image_path")["VG"],alt:t.$store.getters.const("game_title_names")["VG"]}})])]):t._e(),1==t.phase?s("div",{staticClass:"phase-1 row justify-content-center"},[s("div",{staticClass:"col-xl-2 col-lg-3 col-sm-1 col-0"}),s("div",{staticClass:"col-xl-8 col-lg-6 col-sm-10 col-10 deck-phase-param-p1"},[s("b-form-group",{attrs:{label:t.$t("Param.FormVG.phase-regulation")}},[s("ul",{staticClass:"search-radio"},t._l(t.s_regulation,function(e,a){return s("li",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.regulation,expression:"regulation"}],attrs:{type:"radio",name:"regulation",title:e},domProps:{value:a,checked:t._q(t.regulation,a)},on:{change:function(e){t.regulation=a}}}),t._v(t._s(e))])])}),0)])],1),s("div",{staticClass:"col-xl-2 col-lg-3 col-sm-1 col-0"})]):t._e(),2==t.phase?s("div",{staticClass:"phase-2"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-lg-3 col-sm-1 col-0"}),s("div",{staticClass:"col-lg-6 col-sm-10 col-10 deck-phase-param-p2 text-center"},[s("b-form-group",{attrs:{label:t.$t("Param.FormVG.phase-regulation")}},[s("span",{staticClass:"phase-2-select"},[t._v(t._s(t.s_regulation[t.regulation]))]),t.is_create?s("b-button",{staticClass:"btn-sm btn-xsm",on:{click:function(e){return t.changeRegulation(!1)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e()],1),t._m(0),"D"==t.regulation?s("b-form-group",{staticClass:"row",attrs:{label:t.$t("Param.FormVG.phase-nation")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"country"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},[s("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$t('Form["選択してください"]'))+" --")]),t._l(t.s_deck_country,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1):t._e(),"V"==t.regulation?s("b-form-group",{staticClass:"row",attrs:{label:t.$t("Param.FormVG.phase-clan")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"clan"},model:{value:t.clan,callback:function(e){t.clan=e},expression:"clan"}},[s("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$t('Form["選択してください"]'))+" --")]),t._l(t.s_deck_clan_clanfight_v,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1):t._e(),"P"==t.regulation?s("b-form-group",{staticClass:"row",attrs:{label:t.$t("Param.FormVG.phase-clan")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"clan"},model:{value:t.clan,callback:function(e){t.clan=e},expression:"clan"}},[s("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$t('Form["選択してください"]'))+" --")]),t._l(t.s_deck_clan_clanfight_p,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])}),s("option",{attrs:{value:"none"}},[t._v(t._s(t.$t('FormVG["指定しない(エクストリームファイト)"]')))])],2)],1):t._e()],1),s("div",{staticClass:"col-lg-3 col-sm-1 col-0"})])]):t._e(),3==t.phase?s("DeckSp",{ref:"deck-sp",attrs:{param:t._param,use_sub:t.use_sub,main_max_num:t.main_max_num,sub_max_num:t.sub_max_num,total_main_num:t.total_main_num,total_sub_num:t.total_sub_num},on:{showPreview:t.showPreview}}):t._e(),3==t.phase?s("div",{staticClass:"phase-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-sm-12 col-12 create-left-column"},[s("div",{staticClass:"row deck-top-reg-area"},[s("div",{staticClass:"create-form-logo-p3 col-4"},[s("table",{staticClass:"deck-top-reg-area-logo"},[s("tr",[s("td",[s("img",{attrs:{src:t.$store.getters.const("large_logo_image_path")["VG"],alt:t.$store.getters.const("game_title_names")["VG"]}})])])])]),s("div",{class:{"col-xl-8 col-lg-8 col-12":!0,"deck-top-reg-info":!0,"deck-top-reg-single":"V"!=t.regulation&&"P"!=t.regulation}},[s("table",{staticClass:"deck-top-reg-item"},[s("tr",[s("td",{class:{"deck-top-reg-item-left":!0,is_create:t.is_create}},[s("span",[t._v(t._s(t.s_regulation[t.regulation]))])]),t.is_create?s("td",{staticClass:"deck-top-reg-item-right"},[s("div",{staticClass:"deck-top-reg-btn"},[t.is_create?s("b-button",{staticClass:"btn-sm pc-only btn-xsm",on:{click:function(e){return t.changeRegulation(!0)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e(),t.is_create?s("b-button",{staticClass:"btn-sm sp-only btn-xsm",on:{click:function(e){return t.changeRegulation(!0)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e()],1)]):t._e()]),"D"==t.regulation||"V"==t.regulation||"P"==t.regulation?s("tr",[s("td",{class:{"deck-top-reg-item-left":!0,is_create:t.is_create}},["D"==t.regulation?s("span",[t._v(t._s(t.s_deck_country[t.country]))]):t._e(),"V"==t.regulation?s("span",[t._v(t._s(t.s_deck_clan_clanfight_v[t.clan]))]):t._e(),"P"==t.regulation?s("span",["none"==t.clan?s("span",[t._v(t._s(t.$t('FormVG["エクストリームファイト"]')))]):s("span",[t._v(t._s(t.s_deck_clan_clanfight_p[t.clan]))])]):t._e()]),t.is_create?s("td",{staticClass:"deck-top-reg-item-right"},[s("div",{staticClass:"deck-top-reg-btn"},[t.is_create?s("b-button",{staticClass:"btn-sm pc-only btn-xsm",on:{click:function(e){return t.changeParam2(!0)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e(),t.is_create?s("b-button",{staticClass:"btn-sm sp-only btn-xsm",on:{click:function(e){return t.changeParam2(!0)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e()],1)]):t._e()]):t._e()])])]),t.use_sub?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-center"},[s("b-form-group",{staticClass:"deck-select"},[s("b-form-radio",{attrs:{inline:!0,name:"deck_type",value:"N"},model:{value:t.deck_type,callback:function(e){t.deck_type=e},expression:"deck_type"}},[t._v(t._s(t.$t('FormVG["通常デッキ"]')))]),s("b-form-radio",{attrs:{inline:!0,name:"deck_type",value:"G"},model:{value:t.deck_type,callback:function(e){t.deck_type=e},expression:"deck_type"}},[t._v(t._s(t.$t('FormVG["Gデッキ"]')))])],1)],1)]):t._e(),s("SearchForm",{ref:"searchform",attrs:{param:t._form_param,has_ng:t.has_ng},on:{search:t.search}})],1),s("div",{staticClass:"col-xl-8 col-lg-8 col-sm-12 col-12 create-right-column"},[s("Deck",{ref:"deck",staticClass:"deck-fixed",attrs:{param:t._param,use_sub:t.use_sub,s_list2:t.s_deck_clan_clanfight_p,s_list3:t.s_deck_country,main_max_num:t.main_max_num,sub_max_num:t.sub_max_num,total_main_num:t.total_main_num,total_sub_num:t.total_sub_num},on:{postCallbackNum:t.postCallbackNum,applyToDeckForm:t.applyToDeckForm,update_num_deck:t.update_num_deck}}),s("div",{class:{row:!0,show:t.result&&t.result.length>0},attrs:{id:"search-results"}},t._l(t.result,function(e){return s("CardSearch",{key:"result_"+e.card_number,ref:"result_"+e.card_number,refInFor:!0,attrs:{param:e,deck_type:t.deck_type,game_title_id:t.game_title_id},on:{increment:t.increment,decrement:t.decrement}})}),1),t.loading?s("div",{class:"page-"+t.page,attrs:{id:"search-results-loader-bg"}},[t._m(1)]):t._e(),1==t.zero_result?s("p",{staticClass:"zero_result"},[t._v("\n"+t._s(t.$t('Form["一致するカードはありませんでした。"]'))+"\n")]):t._e()],1)])]):t._e(),s("div",{staticClass:"row create-footer-area"})],1):t._e()])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"deck-phase-p2-arrow"},[s("span",{staticClass:"oi oi-caret-bottom"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center",attrs:{id:"search-loader"}},[s("div",{staticClass:"align-items-center mx-auto text-center"},[s("div",{staticClass:"spinner-border text-danger",attrs:{role:"status"}}),s("div",[s("span",[t._v("Loading...")])])])])}],_={name:"Deck_form",data:function(){return{init:1,mode:"",is_create:!0,phase:1,game_title_id:"",game_title:"",game_format_id:"",title:"",result:null,result_count:0,result_last:"",zero_result:!1,forked_deck_id:"",total_main_num:0,total_sub_num:0,page:0,form_p:null,sr_init:!1,loading:!1,loading_wait:!1,use_sub:!1,deck_type:"N"}},methods:{resetResult:function(){this.form_p=null,this.page=0,this.loading=!1,this.result=[],this.result_count=0,this.result_last="",this.zero_result=!1},setResize:function(){$(".container-fluid").scroll(function(){$(".deck-top-info-area-sp")[0]&&"none"!=$(".deck-top-info-area-sp").css("display")&&$(this).scrollTop()>60?($(".deck-sp").addClass("scrolled"),$("#header").addClass("scrolled").hide()):($(".deck-sp").removeClass("scrolled"),$("#header").show().removeClass("scrolled"))}),this.scrolltoTop(300)},search:function(t){this.execSearch(t,this.deck_param1,this.deck_param2)},execSearch:function(t,e,s){var a=this;"none"==e&&(e=""),"none"==s&&(s=""),this.sr_init||(document.getElementById("search-results").addEventListener("scroll",this.pager),document.getElementById("app-wrap").addEventListener("scroll",this.pager),this.sr_init=!0),delete t["deck_param1"],delete t["deck_param2"],t.deck_param1=e,t.deck_param2=s,this.form_p=t,this.page=0,this.loading=!0,this.zero_result=!1,this.result=[],this.$http.post("/system/app/api/search/"+this.game_title_id,{param:this.form_p,page:1}).then(function(t){var e=t.data;if(a.$refs["deck"])for(var s=a.$refs["deck"],i=0;i<e.length;i++){var r=-1;"N"==a.deck_type?(r=s.no.indexOf(e[i].card_number),r>=0&&(e[i].num=s.num[r])):"B"!=!a.deck_type&&(r=s.sub_no.indexOf(e[i].card_number),r>=0&&(e[i].num=s.sub_num[r]))}a.result=e,a.result?(a.result_count=a.result.length,a.page=1):(a.result_count=0,a.page=0),a.loading=!1,a.loading_wait=!1,a.result_count>0?a.result_last=a.result[a.result_count-1].card_number:(a.result_last="",a.zero_result=!0)}).catch(function(t){a.$toasted.show("エラーが発生しました"),a.loading=!1,a.loading_wait=!1}),document.getElementById("search-results")&&(document.getElementById("search-results").scrollTop=0)},pager:function(){var t=this;if($("body.body-page-create")[0]){var e=document.getElementById("search-results");if(!this.zero_result&&this.page>0&&0==this.loading_wait){this.zero_result=!1;var s=!1;"none"!=$(".deck-top-info-area").css("display")&&e.scrollHeight-e.scrollTop<700?s=!0:"none"!=$(".deck-top-info-area-sp").css("display")&&$(".create-footer-area").offset().top-$(window).height()<50&&(s=!0),s&&(this.loading=!0,this.loading_wait=!0,this.page++,this.$http.post("/system/app/api/search/"+this.game_title_id,{param:this.form_p,page:this.page}).then(function(e){var s=e.data;if(s&&s.length>0){if(t.$refs["deck"])for(var a=t.$refs["deck"],i=0;i<s.length;i++){var r=-1;"N"==t.deck_type?(r=a.no.indexOf(s[i].card_number),r>=0&&(s[i].num=a.num[r])):"B"!=!t.deck_type&&(r=a.sub_no.indexOf(s[i].card_number),r>=0&&(s[i].num=a.sub_num[r]))}t.result=t.result.concat(s),t.result_count=t.result.length,t.result_last=t.result[t.result_count-1].card_number}else t.page=0;t.loading=!1;var n=t;setTimeout(function(){n.loading_wait=!1},1e3)}).catch(function(e){t.page--,t.$toasted.show("エラーが発生しました"),t.loading=!1,t.loading_wait=!1}))}}},increment:function(t){this.$refs["deck"].increment(t)},decrement:function(t){this.$refs["deck"].decrement(t)},applyToDeckForm:function(t){this.$refs["result_"+t.card_number]&&this.$refs["result_"+t.card_number][0]&&this.$refs["result_"+t.card_number][0].setnum(t.num),this.postCallbackNum(t)},changeDeckType:function(t){if(this.$refs["deck"].changeDeckType(t),this.$refs["searchform"].changeDeckType(t),null!=this.result)for(var e=0;e<this.result.length;e++){var s=this.result[e].card_number;this.$refs["result_"+s]&&this.$refs["result_"+s][0]&&this.$refs["result_"+s][0].setnum(0)}},update_num_deck:function(t){this.total_main_num=t.total_main_num,this.total_sub_num=t.total_sub_num},showPreview:function(){this.$refs["deck"]&&this.$refs["deck"].showPreview()},scrolltoTop:function(t){$("body.body-page-create .container-fluid")[0]&&$("body.body-page-create .container-fluid").animate({scrollTop:0},t)}}},m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"deck-info-area"},[0==t.init?s("div",[s("div",{staticClass:"deck-top-info-area-white"}),s("div",{staticClass:"row deck-top-info-area"},[s("div",{staticClass:"col-10 deck-top-info-area-left"},[s("span",{staticClass:"deck-top-main"},[t._v(t._s(t.$t('Deck["メインデッキ："]'))),s("span",{class:{"deck-num-disp":!0,"deck-num-disp-over":t.main_max_num>0&&t.total_main_num>t.main_max_num}},[t._v(t._s(t.total_main_num))]),t.main_max_num>0?s("span",[t._v(" / "+t._s(t.main_max_num))]):t._e(),t._v(" "+t._s(t.$t('Deck["枚"]')))]),t.use_sub?s("span",{staticClass:"deck-top-sub"},[t._v(t._s(t.sub_label[t.game_title_id])+"："),s("span",{class:{"deck-num-disp":!0,"deck-num-disp-over":t.sub_max_num>0&&t.total_sub_num>t.sub_max_num}},[t._v(t._s(t.total_sub_num))]),t.sub_max_num>0?s("span",[t._v(" / "+t._s(t.sub_max_num))]):t._e(),t._v(" "+t._s(t.$t('Deck["枚"]')))]):t._e()]),s("div",{staticClass:"deck-preview-btn col-2 text-right deck-top-info-area-right"},[s("b-button",{attrs:{variant:"outline-primary btn-sm"},on:{click:function(e){return t.showPreview()}}},[t._v(t._s(t.$t('Deck["デッキ確認"]')))])],1)]),s("b-modal",{attrs:{id:"preview",title:t.$t("Param.Deck.preview_label"),"hide-footer":""}},[s("div",{staticClass:"preview-top-label"},[t.$store.getters.session?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row deck-param-row deck-param-row-m"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-sm-0 col-0 deck-param-col deck-param-blank"}),s("div",{staticClass:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-12 deck-param-input deck-param-col d-inline-flex"},[s("span",{staticClass:"deck-param-input-label deck-param-input-label-title"},[t._v(t._s(t.$t('Deck["デッキ名"]')))]),s("b-form-input",{staticClass:"b-form-input",attrs:{name:"title",maxlength:"50",placeholder:t.$t("Param.Deck.deck-param-input-title_placeholder"),autocomplete:"off"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t.checked&&0==t.check_require.length?t._e():s("b-button",{staticClass:"btn-warning",on:{click:function(e){return t.hasError()}}},[s("span",{staticClass:"icon-attention"}),t._v(t._s(t.$t('Deck["作成"]')))]),t.checked&&0==t.check_require.length&&0!=t.check_error.length?s("b-button",{staticClass:"btn-warning",on:{click:function(e){return t.publish()}}},[s("span",{staticClass:"icon-attention"}),t._v(t._s(t.$t('Deck["作成"]')))]):t._e(),t.checked&&0==t.check_require.length&&0==t.check_error.length?s("b-button",{staticClass:"btn-info",on:{click:function(e){return t.publish()}}},[t._v(t._s(t.$t('Deck["作成"]')))]):t._e(),s("b-button",{on:{click:function(e){return t.draft()}}},[t._v(t._s(t.$t('Deck["下書き保存"]')))])],1)])]),s("div",{staticClass:"col-12"},[s("div",{staticClass:"row deck-param-row deck-param-row-m"},[s("div",{staticClass:"col-12 deck-param-input deck-param-col d-inline-flex"},[s("span",{staticClass:"deck-param-input-label deck-param-input-label-title"},[t._v(t._s(t.$t('Deck["メモ"]')))]),s("b-form-textarea",{attrs:{name:"memo",rows:"3",size:"sm",placeholder:t.$t("Param.Deck.deck-param-input-memo_placeholder"),autocomplete:"off"},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)])])]):t._e(),this.$store.getters.session?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row deck-param-row deck-param-row-s"},[s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-0 col-0 deck-param-col deck-param-blank"}),s("div",{staticClass:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 deck-param-input deck-param-col d-inline-flex"},[s("span",{staticClass:"deck-param-input-label deck-param-input-label-title"},[t._v(t._s(t.$t('Deck["デッキ名"]')))]),s("b-form-input",{staticClass:"b-form-input",attrs:{name:"title",maxlength:t.$store.getters.const("deck_title_max_length"),placeholder:t.$t("Param.Deck.deck-param-input-title_placeholder"),autocomplete:"off"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t.checked&&0==t.check_require.length?t._e():s("b-button",{staticClass:"btn-warning",on:{click:function(e){return t.hasError()}}},[s("span",{staticClass:"icon-attention"}),t._v(t._s(t.$t('Deck["作成"]')))]),t.checked&&0==t.check_require.length&&0!=t.check_error.length?s("b-button",{staticClass:"btn-warning",on:{click:function(e){return t.publish()}}},[s("span",{staticClass:"icon-attention"}),t._v(t._s(t.$t('Deck["作成"]')))]):t._e(),t.checked&&0==t.check_require.length&&0==t.check_error.length?s("b-button",{staticClass:"btn-info",on:{click:function(e){return t.publish()}}},[t._v(t._s(t.$t('Deck["作成"]')))]):t._e()],1)])])]),t.game_title_id==t.$store.getters.const("game_title_ids")["VG"]?s("div",{staticClass:"row deck-preview-top-info"},[s("p",{staticClass:"col-lg-6 col-12 preview-top-label-left"},[t._v(t._s(t.$t('DeckVG["レギュレーション："]'))+"\n"),s("span",[t._v(t._s(t.$store.getters.const("vg_s_regulation")[t.deck_param1]))])]),"D"==t.deck_param1?s("p",{staticClass:"col-lg-6 col-12 preview-top-label-right"},[t._v(t._s(t.$t('DeckVG["国家："]'))+"\n"),s("span",[t._v(t._s(t.s_list3[t.deck_param2]))])]):t._e(),"D"!=t.deck_param1?s("p",{staticClass:"col-lg-6 col-12 preview-top-label-right"},[t._v(t._s(t.$t('DeckVG["クラン："]'))+"\n"),""==t.deck_param2||"none"==t.deck_param2?s("span",[t._v(t._s(t.$t('DeckVG["指定しない(エクストリームファイト)"]')))]):s("span",[t._v(t._s(t.s_list2[t.deck_param2]))])]):t._e()]):t._e(),t.game_title_id==t.$store.getters.const("game_title_ids")["WS"]?s("div",{staticClass:"row deck-preview-top-info"},[s("p",{staticClass:"col-lg-6 col-12 preview-top-label-left"},[t._v(t._s(t.$t('DeckWS["構築ルール："]'))+"\n"),s("span",[t._v(t._s(t.$store.getters.const("ws_s_regulation")[t.deck_param1]))])]),s("p",{staticClass:"col-lg-6 col-12 preview-top-label-right"},[t._v(t._s(t.$t('DeckWS["ネオスタンダード区分："]'))+"\n"),""==t.deck_param2||"none"==t.deck_param2?s("span",[t._v(t._s(t.$t('DeckWS["指定なし"]')))]):s("span",[t._v(t._s(t.s_list2[t.deck_param2]))])])]):t._e()]),s("Graph",{ref:"graph",attrs:{game_title_id:t.game_title_id,list:t.list,sub_list:t.sub_list,total_main_num:t.total_main_num,main_max_num:t.main_max_num,total_sub_num:t.total_sub_num,sub_max_num:t.sub_max_num,use_option_label:t._use_option_label}}),t.check_require.length>0||t.check_error.length>0||t.check_warning.length>0?s("div",{staticClass:"deck-preview-error-area"},[t._l(t.check_require,function(e){return s("p",{staticClass:"check-error"},[s("span",{staticClass:"icon-attention"}),t._v(t._s(e))])}),t._l(t.check_error,function(e){return s("p",{staticClass:"check-error"},[s("span",{staticClass:"icon-attention"}),t._v(t._s(e))])}),t._l(t.check_warning,function(e){return s("p",{staticClass:"check-warning"},[s("span",{staticClass:"icon-attention"}),t._v(t._s(e))])})],2):t._e(),t.game_title_id==t.$store.getters.const("game_title_ids")["VG"]?s("DeckViewVG",{ref:"deckview_1",attrs:{game_title_id:t.game_title_id,mode:"PREVIEW",deck_param1:t.deck_param1,deck_param2:t.deck_param2,list:t.list,sub_list:t.sub_list,use_sub:t.use_sub,s_list1:t.s_list1,s_list2:t.s_list2,s_list3:t.s_list3,p_no:t.p_no},on:{callback_num:t.callback_num,callback_select:t.callback_select}}):t._e(),t.game_title_id==t.$store.getters.const("game_title_ids")["WS"]?s("DeckViewWS",{ref:"deckview_2",attrs:{game_title_id:t.game_title_id,mode:"PREVIEW",deck_param1:t.deck_param1,deck_param2:t.deck_param2,list:t.list,s_list2:t.s_list2},on:{callback_num:t.callback_num}}):t._e(),s("div",{staticClass:"preview-close-btn text-center"},[s("b-button",{on:{click:function(e){return t.$bvModal.hide("preview")}}},[t._v(t._s(t.$t('Deck["閉じる"]')))])],1)],1)],1):t._e()])},d=[],u=s("f972"),h=s("9c9c"),p=s("aca4"),f=s("b047"),k=s.n(f),g={name:"Deck",mixins:[o["a"]],props:["param","total_main_num","main_max_num","total_sub_num","sub_max_num","use_sub","s_list1","s_list2","s_list3"],data:function(){return{title_change:null,init:1,game_title_id:"",id:"",deck_id:"",forked_deck_id:"",title:"",memo:"",owner:!1,can_edit:!0,deck_param1:"",deck_param2:"",list:[],no:[],num:[],sub_list:[],sub_no:[],sub_num:[],p_list:[],p_no:[],p_num:[],check_require:[],check_error:[],check_warning:[],deck_type:"N",sub_label:[],exec_save:!1,s_regulation:[],title_ok:!1,memo_ok:!1,input_change:null}},components:{Graph:u["a"],DeckViewVG:h["a"],DeckViewWS:p["a"]},created:function(){if(this.execReset(),this.game_title_id=this.param.game_title_id,this.sub_label=this.$store.getters.const("sub_label"),this.param.list){this.title=this.param.title,this.title&&this.title.length<=this.$store.getters.const("deck_title_max_length")&&(this.title_ok=!0),this.memo=this.param.memo,this.memo&&this.memo.length>100&&(this.memo_ok=!1),this.id=this.param.id,this.deck_id=this.param.deck_id,this.forked_deck_id=this.param.forked_deck_id,this.owner=this.param.owner,this.can_edit=this.param.can_edit,this.deck_param1=this.param.deck_param1,this.deck_param2=this.param.deck_param2,this.list=this.param.list;for(var t=0;t<this.list.length;t++)this.no.push(this.list[t].card_number),this.num.push(this.list[t].num);this.sub_list=this.param.sub_list;for(t=0;t<this.sub_list.length;t++)this.sub_no.push(this.sub_list[t].card_number),this.sub_num.push(this.sub_list[t].num);if(this.game_title_id==this.$store.getters.const("game_title_ids")["VG"]&&"D"==this.deck_param1){this.p_no={grade_0:"grade_0",grade_1:"grade_1",grade_2:"grade_2",grade_3:"grade_3",grade_msr:"grade_msr"};for(t=0;t<this.param.p_list.length;t++){var e=this.param.p_list[t].grade;"ガチャリドラ"==this.param.p_list[t].name&&(e="msr"),void 0!=this.p_no["grade_"+e]&&(this.p_no["grade_"+e]=this.param.p_list[t].card_number)}this.p_list=[],this.p_num=[]}else{this.p_list=this.param.p_list;for(t=0;t<this.p_list.length;t++)this.p_no.push(this.p_list[t].card_number),this.p_num.push(this.p_list[t].num)}}this.input_change=k()(function(t){var e=this.title;this.title_ok?(0==e.length||e.length>this.$store.getters.const("deck_title_max_length"))&&(this.title_ok=!1,this.check()):e.length>0&&e.length<=this.$store.getters.const("deck_title_max_length")&&(this.title_ok=!0,this.check());var s=this.memo;this.memo_ok?s.length>100&&(this.memo_ok=!1,this.check()):s.length<=100&&(this.memo_ok=!0,this.check())},500),this.update_num(),this.init=0},computed:{_checked:function(){return!(!this.checked||0!=this.check_error.length)},_use_option_label:function(){return!(!this.use_sub||this.game_title_id!=this.$store.getters.const("game_title_ids")["VG"])},_param:function(){var t=this.param;return t}},watch:{title:function(){this.input_change()},memo:function(){this.input_change()}},methods:{execReset:function(){this.init=!1,this.game_title_id="",this.id="",this.deck_id="",this.forked_deck_id="",this.title="",this.memo="",this.owner=!1,this.can_edit=!1,this.deck_param1="",this.deck_param2="",this.add_param1="",this.add_param2="",this.list=[],this.no=[],this.num=[],this.sub_list=[],this.sub_no=[],this.sub_num=[],this.p_list=[],this.p_no=[],this.p_num=[],this.check_require=[],this.check_error=[],this.check_warning=[],this.checked=!1,this.deck_type="N",this.exec_save=!1,this.title_ok=!1,this.memo_ok=!0},showPreview:function(){if(0!=this.list.length){this.check_require=[],this.check_error=[],this.check_warning=[],this.checked=!1,this.check(),this.$bvModal.show("preview");var t=this,e=setInterval(function(){$("#preview .modal-header")[0]&&(clearInterval(e),$("#preview .modal-header").click(function(){t.$bvModal.hide("preview")}))},300)}else this.$toasted.show(this.$t('Deck["デッキにカードが選択されていません"]'))},check:function(){var t=this,e={id:this.id,title:this.title,memo:this.memo,deck_param1:this.deck_param1,deck_param2:this.deck_param2,add_param1:this.add_param1,add_param2:this.add_param2,no:this.no,num:this.num,sub_no:this.sub_no,sub_num:this.sub_num,p_no:this.p_no,p_num:this.p_num,has_session:this.$store.getters.session};this.checked=!1,this.$http.post("/system/app/api/check/"+this.game_title_id,e).then(function(e){t.$store.getters.version&&t.$store.getters.version!=e.data.version&&(alert(t.$store.getters.system_update_message),location.reload(),t.checked=!0),t.check_require=e.data.require,t.check_error=e.data.error,t.check_warning=e.data.warning,t.checked=!0}).catch(function(e){t.$toasted.show(t.$t('Deck["エラーが発生しました"]'))})},increment:function(t){var e=t.card_number;if("N"==this.deck_type){var s=this.no.indexOf(e),a=1;s<0?(this.no.push(e),t._num=1,this.list.push(t),this.num.push(1)):(this.num[s]++,this.list[s]._num++,this.list[s].num++,a=this.num[s]);var i=t;i.num=a,this.$emit("postCallbackNum",i)}else if("B"!=this.deck_type){var r=this.sub_no.indexOf(e),n=1;r<0?(this.sub_no.push(e),t._num=1,this.sub_list.push(t),this.sub_num.push(1)):(this.sub_num[r]++,this.sub_list[r]._num++,this.sub_list[r].num++,n=this.sub_num[r]);var o=t;o.num=n,this.$emit("postCallbackNum",o)}this.update_num()},decrement:function(t){var e=t.card_number;if("N"==this.deck_type){var s=this.no.indexOf(e),a=0;if(s>=0){this.num[s]>1?(this.num[s]--,this.list[s]._num--,this.list[s].num--,a=this.num[s]):this.doSplice(s,this.deck_type);var i=t;i.num=a,this.$emit("postCallbackNum",i)}}else if("B"!=this.deck_type){var r=this.sub_no.indexOf(e),n=0;if(r>=0){this.sub_num[r]>1?(this.sub_num[r]--,this.sub_list[r]._num--,this.sub_list[r].num--,n=this.sub_num[r]):this.doSplice(r,this.deck_type);var o=t;o.num=n,this.$emit("postCallbackNum",o)}}this.update_num()},changeDeckType:function(t){this.deck_type=t,"N"==this.deck_type||this.deck_type},update_num:function(){for(var t=0,e=0;e<this.num.length;e++)t+=this.num[e];for(var s=0,a=0;a<this.sub_num.length;a++)s+=this.sub_num[a];var i={};i.total_main_num=t,i.total_sub_num=s,this.$emit("update_num_deck",i),t<=0&&this.$bvModal.hide("preview")},calc_graph:function(){this.$refs["graph"].set_graph()},callback_num:function(t){t.type;var e=t.deck_type;if("N"==e){var s=this.no.indexOf(t.card_number);s>=0&&(this.num[s]=t.num,this.list[s].num=t.num,this.list[s]._num=t.num,this.num[s]<=0&&this.doSplice(s,e),this.check(),this.$emit("applyToDeckForm",t))}else if("B"!=e){var a=this.sub_no.indexOf(t.card_number);a>=0&&(this.sub_num[a]=t.num,this.sub_list[a].num=t.num,this.sub_list[a]._num=t.num,this.sub_num[a]<=0&&this.doSplice(a,e),this.check(),this.$emit("applyToDeckForm",t))}this.update_num(),this.calc_graph()},callback_select:function(t){this.p_no=t,this.check()},reset_ride:function(t){for(var e in this.p_no)this.p_no[e]==t&&(this.p_no[e]="")},doSplice:function(t,e){"N"==e?(this.list.splice(t,1),this.no.splice(t,1),this.num.splice(t,1)):"B"!=e&&(this.sub_list.splice(t,1),this.sub_no.splice(t,1),this.sub_num.splice(t,1))},setPList:function(t){this.clearPList(),this.p_list=t;for(var e=0;e<t.length;e++)this.p_no.push(t[e].card_number),this.p_num.push(t[e].num)},clearList:function(){this.list=[],this.no=[],this.num=[],this.clearSubList(),this.clearPList()},clearSubList:function(){this.sub_list=[],this.sub_no=[],this.sub_num=[]},clearPList:function(){this.p_list=[],this.p_no=[],this.p_num=[]},hasError:function(){this.$toasted.show(this.$t('Deck["エラーが含まれています"]')),$(".deck-preview-error-area")[0]&&$("#preview").animate({scrollTop:$(".deck-preview-error-area").offset().top},800)},draft:function(){var t=this;if(!this.exec_save){var e={id:this.id,deck_id:this.deck_id,title:this.title,memo:this.memo,deck_param1:this.deck_param1,deck_param2:this.deck_param2,add_param1:this.add_param1,add_param2:this.add_param2,no:this.no,num:this.num,sub_no:this.sub_no,sub_num:this.sub_num,p_no:this.p_no,p_num:this.p_num,has_session:this.$store.getters.session,token_id:this.$store.getters.token_id,token:this.$store.getters.token};this.exec_save=!1,$("#loader-bg").addClass("white").css("opacity",1).show(),this.$http.post("/system/app/api/draft/"+this.game_title_id,e).then(function(e){"OK"==e.data.status?(t.id=e.data.id,t.$toasted.show(t.$t('Deck["下書き保存しました。"]'))):t.$toasted.show(t.$t('Deck["下書き保存に失敗しました。"]')),$("#loader-bg").hide().removeClass("white").css("opacity",1),t.exec_save=!1}).catch(function(e){$("#loader-bg").hide().removeClass("white").css("opacity",1),t.$toasted.show(t.$t('Deck["下書き保存に失敗しました。"]')),t.exec_save=!1})}},publish:function(){var t=this;if(this.checked&&!this.exec_save){this.exec_save=!0;var e={id:this.id,deck_id:this.deck_id,title:this.title,memo:this.memo,deck_param1:this.deck_param1,deck_param2:this.deck_param2,add_param1:this.add_param1,add_param2:this.add_param2,no:this.no,num:this.num,sub_no:this.sub_no,sub_num:this.sub_num,p_no:this.p_no,p_num:this.p_num,has_session:this.$store.getters.session,token_id:this.$store.getters.token_id,token:this.$store.getters.token};$("#loader-bg").addClass("white").css("opacity",1).show(),this.$http.post("/system/app/api/publish/"+this.game_title_id,e).then(function(e){"OK"==e.data.status?(t.id=e.data.id,t.deck_id&&(t.forked_deck_id=t.deck_id),t.deck_id=e.data.deck_id,$("#loader-bg").removeClass("white"),t.$store.commit("clearToken"),t.__trans("/complete?id="+t.deck_id)):"TOKEN-NG"==e.data.status?($("#loader-bg").hide().removeClass("white").css("opacity",1),t.$toasted.show(t.$t('Deck["エラーが発生しました。最初からやり直してください。"]'))):($("#loader-bg").hide().removeClass("white").css("opacity",1),t.$toasted.show(t.$t('Deck["デッキ作成に失敗しました。"]'))),t.exec_save=!1}).catch(function(e){$("#loader-bg").hide().removeClass("white").css("opacity",1),t.$toasted.show(t.$t('Deck["デッキ作成に失敗しました。"]')),t.exec_save=!1})}}}},v=g,b=s("2877"),y=Object(b["a"])(v,m,d,!1,null,null,null),w=y.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"deck-sp"},[0==t.init?s("div",[s("div",{staticClass:"row deck-top-info-area-sp"},[s("div",{staticClass:"col-sm-9 col-8 deck-top-info-area-sp-left"},[s("table",{staticClass:"deck-top-info-area-sp-left-table"},[s("tr",[s("td",{staticClass:"deck-top-info-area-sp-left-table-logo"},[s("span",{staticClass:"deck-top-info-area-sp-logo"},[1==t.game_title_id?s("img",{attrs:{src:t.$store.getters.const("logo_image_path_b")["VG"],alt:t.$store.getters.const("game_title_names")["VG"]}}):t._e(),2==t.game_title_id?s("img",{attrs:{src:t.$store.getters.const("logo_image_path_b")["WS"],alt:t.$store.getters.const("game_title_names")["WS"]}}):t._e()])]),s("td",{staticClass:"deck-top-info-area-sp-left-table-text"},[s("span",{class:{"deck-top-main":!0,"deck-top-main-single":!t.use_sub}},[t._v(t._s(t.$t('Deck["メインデッキ："]'))),s("span",{staticClass:"deck-num-disp"},[t._v(t._s(t.total_main_num))]),t.main_max_num>0?s("span",[t._v("/ "+t._s(t.main_max_num))]):t._e(),t._v(" "+t._s(t.$t('Deck["枚"]')))]),t.use_sub?s("br"):t._e(),t.use_sub?s("span",{staticClass:"deck-top-sub"},[t._v(t._s(t.sub_label[t.game_title_id])+"："),s("span",{staticClass:"deck-num-disp"},[t._v(t._s(t.total_sub_num))]),t.sub_max_num>0?s("span",[t._v("/ "+t._s(t.sub_max_num))]):t._e(),t._v(" "+t._s(t.$t('Deck["枚"]')))]):t._e()])])])]),s("div",{staticClass:"deck-preview-btn col-sm-3 col-4 text-right deck-top-info-area-sp-right"},[s("b-button",{attrs:{variant:"outline-primary btn-sm"},on:{click:function(e){return t.showPreview()}}},[t._v(t._s(t.$t('Deck["デッキ確認"]')))])],1)])]):t._e()])},x=[],F={name:"DeckSp",mixins:[o["a"]],props:["param","main_max_num","sub_max_num","total_main_num","total_sub_num","use_sub"],data:function(){return{init:1,game_title_id:"",sub_label:[]}},components:{},created:function(){this.game_title_id=this.param.game_title_id,this.sub_label=this.$store.getters.const("sub_label"),this.init=0},computed:{},methods:{update_num:function(t){this.total_main_num=t.total_main_num,this.total_sub_num=t.total_sub_num},showPreview:function(){this.$emit("showPreview")}}},D=F,P=Object(b["a"])(D,C,x,!1,null,null,null),S=P.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{key:t.card_number,class:"card-item col-xl-4 col-lg-4 col-sm-6 col-6"},[s("div",{class:{"card-container":!0,"card-use":t.num>0,"wide-card":t.direction>0}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgpath,expression:"imgpath"}],class:{"card-search-item":!0,"is-select":t.num>0},attrs:{id:t.id_text+"-"+t._uid,alt:t.name,title:t.card_number+" : "+t.name},on:{click:function(e){return t.tap_controll()}}}),s("div",{staticClass:"card-controller"},["B"!=t.deck_type?s("div",{staticClass:"card-controller-inner"},[s("span",{staticClass:"card-ctrl card-detail",attrs:{title:t.card_number+" : "+t.name},on:{click:function(e){return t.cardPopup()}}}),s("span",{staticClass:"card-ctrl card-blank"}),s("span",{staticClass:"num"},[t._v(t._s(t.num)+" / "+t._s(t.max))]),s("span",{staticClass:"card-ctrl card-inc",on:{click:function(e){return t.increment()}}}),s("span",{staticClass:"card-ctrl card-dec",on:{click:function(e){return t.decrement()}}})]):t._e(),"B"==t.deck_type?s("div",{staticClass:"card-controller-inner card-controller-buddy"},[s("span",{staticClass:"card-ctrl card-detail",attrs:{title:t.card_number+" : "+t.name},on:{click:function(e){return t.cardPopup()}}}),s("span",{staticClass:"card-ctrl card-blank"}),s("span",{staticClass:"num-blank"}),s("span",{staticClass:"card-ctrl card-blank"}),s("span",{staticClass:"card-ctrl card-inc",on:{click:function(e){return t.selectCard()}}})]):t._e()])])])},G=[],N=(s("7514"),s("28a5"),s("673e"),{name:"CardSearch",props:["param","game_title_id","deck_type"],components:{},data:function(){return{path:"",detail_path:"",id:"",card_number:"",num:0,type:0,card_kind:"",max:4,width:0,height:0,direction:0,name:"",rare:"",img:"",sub:"",p_param:[],g_param:[],id_text:"card-search",show_controll:!1}},computed:{imgpath:function(){return this.path+this.img}},created:function(){this.path=this.$store.getters.const("card_image_path")[this.$store.getters.const("game_title_ids_rev")[this.game_title_id]],this.detail_path=this.$store.getters.const("cardlist_page")[this.$store.getters.const("game_title_ids_rev")[this.game_title_id]],this.card_number=this.param.card_number,this.num=this.param.num,this.type=this.param.type,this.name=replaceAll('"',"'",this.param.name),this.rare=this.param.rare,this.img=this.param.img,this.card_kind=this.param.card_kind,this.param.max&&(this.max=this.param.max),this.width=this.param.width,this.height=this.param.height,this.direction=this.param.direction,this.sub=this.param.sub,this.p_param=this.param.p_param,this.g_param=this.param.g_param,this.num>0&&(this.show_controll=!0)},methods:{increment:function(){if(this.num<this.max){this.num++;var t={card:this,id:this.id,card_number:this.card_number,num:this.num,name:this.name,type:this.type,rare:this.rare,img:this.img,card_kind:this.card_kind,path:this.path,max:this.max,width:this.width,height:this.height,direction:this.direction,p_param:this.p_param,g_param:this.g_param};this.$emit("increment",t)}},decrement:function(){this.num--,this.num<=0&&(this.num=0,this.hide_controll());var t={id:this.id,card_number:this.card_number,name:this.name,num:this.num,p_param:this.p_param,g_param:this.g_param};this.$emit("decrement",t)},selectCard:function(){var t={card:this,id:this.id,card_number:this.card_number,num:1,name:this.name,type:this.type,rare:this.rare,img:this.img,card_kind:this.card_kind,path:this.path,max:1,width:this.width,height:this.height,direction:this.direction,p_param:this.p_param,g_param:this.g_param};this.$emit("selectCard",t)},setnum:function(t){this.num=t,this.num<=0&&(this.num=0,this.hide_controll())},cardPopup:function(){var t=this.detail_path;3==this.game_title_id&&(t=t+this.id+"/"),t=t+"?cardno="+encodeURIComponent(this.card_number).split("%2F").join("/");var e={img:this.imgpath,alt:this.name,title:this.card_number+" : "+this.name,text:this.card_number+" : "+this.name,link:t};this.$store.commit("setPopupParam",e),this.$bvModal.show("card-popup")},tap_controll:function(){var t=$("#"+this.id_text+"-"+this._uid).parents(".card-container");this.show_controll?"B"!=this.deck_type?this.increment():this.selectCard():(this.show_controll=!0,t.find(".card-controller").fadeIn(100))},hide_controll:function(){var t=$("#"+this.id_text+"-"+this._uid).parents(".card-container");this.show_controll&&0==this.num&&(this.show_controll=!1,t.find(".card-controller").fadeOut(100))}}}),E=N,T=Object(b["a"])(E,V,G,!1,null,null,null),W=T.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-searchform"},[0!=t.init?s("div",{attrs:{id:"search-loader-bg"}},[t._m(0)]):t._e(),0==t.init?s("div",[s("b-form",{on:{submit:function(t){t.preventDefault()}}},[s("b-form-input",{staticStyle:{display:"none"},attrs:{name:"deck_type"},model:{value:t.form_p.deck_type,callback:function(e){t.$set(t.form_p,"deck_type",e)},expression:"form_p.deck_type"}}),s("b-form-input",{staticStyle:{display:"none"},attrs:{name:"deck_type"},model:{value:t.form_p.has_ng,callback:function(e){t.$set(t.form_p,"has_ng",e)},expression:"form_p.has_ng"}}),s("b-form-group",{attrs:{label:t.$t("Param.FormVG.keyword-label")}},[s("div",{staticClass:"d-inline-flex"},[s("b-form-input",{staticClass:"b-form-input m-w-120",attrs:{name:"keyword",placeholder:t.$t("Param.FormVG.keyword-placeholder"),autocomplete:"off"},model:{value:t.form_p.keyword,callback:function(e){t.$set(t.form_p,"keyword",e)},expression:"form_p.keyword"}}),s("div",{staticClass:"clear_keyword_btn"},[s("span",{staticClass:"oi oi-circle-x",attrs:{transition:"fade"},on:{click:function(e){return t.clearKeyword()}}})])],1),s("div",{attrs:{id:"keyword_type_check"}},[s("ul",{staticClass:"search-check"},t._l(t.s_keyword_type,function(e,a){return s("li",[s("label",{staticClass:"active"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword_type,expression:"keyword_type"}],attrs:{type:"checkbox",name:"keyword_type",title:e},domProps:{value:a,checked:Array.isArray(t.keyword_type)?t._i(t.keyword_type,a)>-1:t.keyword_type},on:{change:function(e){var s=t.keyword_type,i=e.target,r=!!i.checked;if(Array.isArray(s)){var n=a,o=t._i(s,n);i.checked?o<0&&(t.keyword_type=s.concat([n])):o>-1&&(t.keyword_type=s.slice(0,o).concat(s.slice(o+1)))}else t.keyword_type=r}}}),t._v(t._s(e))])])}),0)])]),t.can_search_clan&&"D"!=t.regulation?s("b-form-group",{attrs:{label:t.$t("Param.FormVG.clan-label")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"clan"},model:{value:t.form_p.clan,callback:function(e){t.$set(t.form_p,"clan",e)},expression:"form_p.clan"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["すべて"]')))]),t._l(t.s_clan,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1):t._e(),"G"!=t.form_p.deck_type?s("b-form-group",{attrs:{label:t.$t("Param.FormVG.kind-label")}},[s("ul",{staticClass:"search-radio"},t._l(t.s_kind,function(e,a){return s("li",[s("label",{class:{active:0==a}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form_p.kind,expression:"form_p.kind"}],attrs:{type:"radio",name:"kind",title:e},domProps:{value:a,checked:t._q(t.form_p.kind,a)},on:{change:function(e){return t.$set(t.form_p,"kind",a)}}}),t._v(t._s(e))])])}),0)]):t._e(),"G"!=t.form_p.deck_type?s("b-form-group",{attrs:{label:t.$t("Param.FormVG.grade-label")}},[s("ul",{staticClass:"search-check"},t._l(t.s_grade,function(e,a){return s("li",[s("label",{},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form_p.grade,expression:"form_p.grade"}],attrs:{type:"checkbox",name:"grade",title:e},domProps:{value:a,checked:Array.isArray(t.form_p.grade)?t._i(t.form_p.grade,a)>-1:t.form_p.grade},on:{change:function(e){var s=t.form_p.grade,i=e.target,r=!!i.checked;if(Array.isArray(s)){var n=a,o=t._i(s,n);i.checked?o<0&&t.$set(t.form_p,"grade",s.concat([n])):o>-1&&t.$set(t.form_p,"grade",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.form_p,"grade",r)}}}),t._v(t._s(e))])])}),0)]):t._e(),t.can_search_clan||"D"==t.regulation?t._e():s("b-form-group",{attrs:{label:t.$t("Param.FormVG.clan-label")}},[s("ul",{staticClass:"search-radio"},[s("li",[s("label",{staticClass:"active"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form_p.limit_ce,expression:"form_p.limit_ce"}],attrs:{type:"radio",name:"limit_ce",value:"",title:t.$t("Param.Form.all-title")},domProps:{checked:t._q(t.form_p.limit_ce,"")},on:{change:function(e){return t.$set(t.form_p,"limit_ce","")}}}),t._v(t._s(t.$t('Form["すべて"]')))])]),s("li",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form_p.limit_ce,expression:"form_p.limit_ce"}],attrs:{type:"radio",name:"limit_ce",value:"1",title:t.$t("Param.FormVG.clan-ce-title")},domProps:{checked:t._q(t.form_p.limit_ce,"1")},on:{change:function(e){return t.$set(t.form_p,"limit_ce","1")}}}),t._v(t._s(t.$t('FormVG["クレイエレメンタル"]')))])])])]),"D"==t.regulation?s("b-form-group",{attrs:{label:t.$t("Param.FormVG.nation-label")}},[s("ul",{staticClass:"search-radio"},[s("li",[s("label",{staticClass:"active"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form_p.limit_ce,expression:"form_p.limit_ce"}],attrs:{type:"radio",name:"limit_ce",value:"",title:t.$t("Param.Form.all-title")},domProps:{checked:t._q(t.form_p.limit_ce,"")},on:{change:function(e){return t.$set(t.form_p,"limit_ce","")}}}),t._v(t._s(t.$t('Form["すべて"]')))])]),s("li",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form_p.limit_ce,expression:"form_p.limit_ce"}],attrs:{type:"radio",name:"limit_ce",value:"1",title:t.$t("Param.FormVG.clan-none-title")},domProps:{checked:t._q(t.form_p.limit_ce,"1")},on:{change:function(e){return t.$set(t.form_p,"limit_ce","1")}}}),t._v(t._s(t.$t('FormVG["所属無し"]')))])])])]):t._e(),s("b-form-group",{attrs:{label:t.$t("Param.FormVG.power-label")}},[s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"power_from"},model:{value:t.form_p.power_from,callback:function(e){t.$set(t.form_p,"power_from",e)},expression:"form_p.power_from"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_power,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2),t._v("\n～\n"),s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"power_to"},model:{value:t.form_p.power_to,callback:function(e){t.$set(t.form_p,"power_to",e)},expression:"form_p.power_to"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_power,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1),s("b-form-group",{attrs:{label:t.$t("Param.FormVG.rare-label")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"rare"},model:{value:t.form_p.rare,callback:function(e){t.$set(t.form_p,"rare",e)},expression:"form_p.rare"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["すべて"]')))]),t._l(t.s_rare,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1),"G"!=t.form_p.deck_type?s("b-form-group",{attrs:{label:t.$t("Param.FormVG.trigger-label")}},[s("ul",{staticClass:"search-check"},t._l(t.s_trigger,function(e,a){return s("li",[s("label",{},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form_p.trigger,expression:"form_p.trigger"}],attrs:{type:"checkbox",name:"trigger",title:e},domProps:{value:a,checked:Array.isArray(t.form_p.trigger)?t._i(t.form_p.trigger,a)>-1:t.form_p.trigger},on:{change:function(e){var s=t.form_p.trigger,i=e.target,r=!!i.checked;if(Array.isArray(s)){var n=a,o=t._i(s,n);i.checked?o<0&&t.$set(t.form_p,"trigger",s.concat([n])):o>-1&&t.$set(t.form_p,"trigger",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.form_p,"trigger",r)}}}),t._v(t._s(e))])])}),0)]):t._e(),s("div",{staticClass:"text-center form-clear-btn"},[s("b-button",{staticClass:"btn-sm",on:{click:function(e){return t.form_reset()}}},[t._v(t._s(t.$t('Form["検索条件をクリア"]')))])],1)],1)],1):t._e()])},R=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center",attrs:{id:"search-loader"}},[s("div",{staticClass:"align-items-center mx-auto text-center"},[s("div",{staticClass:"spinner-border text-danger",attrs:{role:"status"}}),s("div",[s("span",[t._v("Loading...")])])])])}],A=(s("6b54"),{name:"SearchFormVG",props:["param","has_ng"],components:{},data:function(){return{form_p_change:null,init:1,game_title_id:1,game_title:"vg",regulation:"",can_search_clan:!1,keyword_type:[""],keyword_type_default:[],keyword_type_all:!0,s_keyword_type:null,s_clan:null,s_kind:null,s_kind_all:null,s_kind_n:null,s_kind_g:null,s_grade:null,s_power:null,s_rare:null,s_trigger:null,form_p:{deck_type:"N",clan:"",keyword:"",keyword_type:[""],kind:"0",limit_ce:"",grade:[],power_from:"",power_to:"",rare:"",trigger:[],has_ng:!1},form_p_default:null}},created:function(){this.form_p_change=k()(function(t){if(""!=this.form_p.keyword){if(this.form_p.keyword_type.toString()!=this.keyword_type.toString())return void(this.form_p.keyword_type=this.keyword_type)}else this.form_p.keyword_type=this.keyword_type_default;this.$emit("search",this.form_p)},500),this.execCreated()},computed:{_form_p:function(){return JSON.stringify(this.form_p)},_param:function(){var t=this.param;return t.game_title_id=this.game_title_id,t.game_format_id=this.game_format_id,t},_keyword_type:function(){return this.keyword_type.toString()},_kind:function(){return this.form_p.kind},_limit_ce:function(){return this.form_p.limit_ce},_grade:function(){return this.form_p.grade.toString()},_trigger:function(){return this.form_p.trigger.toString()}},watch:{_form_p:function(t,e){this.form_p_change()},_keyword_type:function(){this.check_keyword_type(!1),""!=this.form_p.keyword&&this.form_p_change()},has_ng:function(){this.form_p.has_ng=this.has_ng},_kind:function(){this.check_kind(!1)},_limit_ce:function(){this.check_limit_ce(!1)},_grade:function(){this.check_grade(!1)},_trigger:function(){this.check_trigger(!1)}},methods:{execCreated:function(){var t=this;this.regulation=this.param.regulation,this.can_search_clan=this.param.can_search_clan,this.form_p_default=JSON.stringify(this.form_p),this.$http.post("/system/app/api/cardparam/"+this.game_title_id).then(function(e){var s=e.data;for(var a in t.s_keyword_type=s.keyword_type,t.keyword_type_default=[],t.s_keyword_type)t.keyword_type_default.push(a);t.form_p.keyword_type=t.keyword_type_default,t.keyword_type=t.keyword_type_default,t.s_clan=s.clan,t.s_kind_all=s.kind,t.s_kind_n=s.kind_n,t.s_kind_g=s.kind_g,t.s_grade=s.grade,t.s_power=s.power,"D"==t.regulation?t.s_rare=s.rare_d:"V"==t.regulation?t.s_rare=s.rare_v:t.s_rare=s.rare_p,t.s_trigger=s.trigger,t.init_s_kind(),t.init=0,t.$emit("search",t.form_p)}).catch(function(t){document.location="/systemError"})},init_s_kind:function(){"G"!=this.form_p.deck_type?"O"!=this.regulation?"N"!=this.form_p.deck_type||(this.s_kind=this.s_kind_n):this.s_kind=this.s_kind_all:this.s_kind=this.s_kind_g},form_reset:function(){this.form_p.keyword="",this.form_p.keyword_type=this.keyword_type_default,this.form_p.kind="0",this.form_p.grade=[],this.form_p.power_from="",this.form_p.power_to="",this.form_p.rare="",this.form_p.trigger=[],this.form_p.clan="",this.form_p.limit_ce="",this.check_keyword_type(!0),this.check_kind(!0),this.check_limit_ce(!0),this.check_grade(!0),this.check_trigger(!0)},check_keyword_type:function(t){if(t)this.keyword_type=this.keyword_type_default,this.keyword_type_all=!0,$('.search-check input[name="keyword_type"]').each(function(t){$(this).parents("label").addClass("active"),$(this).prop("checked",!0)});else{0==this.keyword_type.length?(this.keyword_type=this.keyword_type_default,this.keyword_type_all=!0):$.inArray("all",this.keyword_type)>=0&&this.keyword_type.length>1&&(this.keyword_type_all?(this.keyword_type.splice(this.keyword_type.indexOf("all"),1),this.keyword_type_all=!1):(this.keyword_type=this.keyword_type_default,this.keyword_type_all=!0));var e=this;$('.search-check input[name="keyword_type"]').each(function(t){$.inArray($(this).val(),e.keyword_type)>=0?($(this).parents("label").addClass("active"),$(this).prop("checked",!0)):($(this).parents("label").removeClass("active"),$(this).prop("checked",!1))})}},check_kind:function(t){$('.search-radio input[name="kind"]').each(function(e){!t&&$(this).prop("checked")?$(this).parents("label").addClass("active"):($(this).parents("label").removeClass("active"),t&&$(this).prop("checked",!1)),!t||"0"!=$(this).val()&&""!=$(this).val()||($(this).parents("label").addClass("active"),$(this).prop("checked",!0))})},check_limit_ce:function(t){this.can_search_clan||$('.search-radio input[name="limit_ce"]').each(function(e){!t&&$(this).prop("checked")?$(this).parents("label").addClass("active"):($(this).parents("label").removeClass("active"),t&&$(this).prop("checked",!1)),t&&""==$(this).val()&&($(this).parents("label").addClass("active"),$(this).prop("checked",!0))})},check_grade:function(t){$('.search-check input[name="grade"]').each(function(e){!t&&$(this).prop("checked")?$(this).parents("label").addClass("active"):($(this).parents("label").removeClass("active"),t&&$(this).prop("checked",!1))})},check_trigger:function(t){$('.search-check input[name="trigger"]').each(function(e){!t&&$(this).prop("checked")?$(this).parents("label").addClass("active"):($(this).parents("label").removeClass("active"),t&&$(this).prop("checked",!1))})},changeDeckType:function(t){this.form_p.deck_type=t,this.init_s_kind(),this.form_reset()},clearKeyword:function(){this.form_p.keyword=""}}}),q=A,z=Object(b["a"])(q,O,R,!1,null,null,null),I=z.exports,L={name:"DeckFormVG",mixins:[_],props:["param"],components:{CardSearch:W,Deck:w,DeckSp:S,SearchForm:I},data:function(){return{regulation:"",country:"",clan:"",can_search_clan:!1,s_clan:null,s_deck_clan_clanfight_v:null,s_deck_clan_clanfight_p:null,s_deck_country:null,s_regulation:null,main_max_num:50,sub_max_num:16,deck_type:"N",has_ng:!1}},created:function(){this.execCreated()},computed:{_param:function(){var t=this.param;return t.game_title_id=this.game_title_id,t.game_format_id=this.game_format_id,t.deck_param1=this.regulation,"D"==this.regulation?t.deck_param2=this.country:t.deck_param2=this.clan,t},_form_param:function(){var t={};return t.regulation=this.regulation,t.can_search_clan=this.can_search_clan,t},deck_param1:function(){return this.regulation},deck_param2:function(){return"D"==this.regulation?this.country:this.clan}},watch:{init:function(){this.init<=0&&this.$emit("fadein")},regulation:function(t){t&&1==this.phase&&("O"==t?(this.clan="none",this.can_search_clan=!0,this.use_sub=!0,this.phase=3,this.setResize()):("P"!=t&&"D"!=t||(this.use_sub=!0),this.phase=2))},clan:function(t){t&&2==this.phase&&(this.can_search_clan=!1,"none"==t&&(this.can_search_clan=!0),this.$refs["searchform"]&&this.$refs["searchform"].init(this._form_param),this.phase=3,this.setResize())},country:function(t){t&&2==this.phase&&(this.can_search_clan=!1,this.$refs["searchform"]&&this.$refs["searchform"].init(this._form_param),this.phase=3,this.setResize())},deck_type:function(){this.changeDeckType(this.deck_type)}},methods:{execCreated:function(){var t=this;this.phase=1,this.game_title_id=this.$store.getters.const("game_title_ids")["VG"],this.game_title="vg",this.mode=this.param.mode,this.has_ng=!1,this.s_regulation=this.$store.getters.const("vg_s_regulation"),"CREATE"!=this.mode&&(this.is_create=!1,this.regulation=this.param.deck_param1,"D"==this.regulation?this.country=this.param.deck_param2:(this.clan=this.param.deck_param2,this.clan||(this.clan="none")),this.execEditFork(),this.phase=3,this.setResize()),this.$http.post("/system/app/api/cardparam/"+this.game_title_id).then(function(e){var s=e.data;t.s_clan=s.clan,t.s_deck_clan_clanfight_v=s.deck_clan_clanfight_v,t.s_deck_clan_clanfight_p=s.deck_clan_clanfight_p,t.s_deck_country=s.deck_country,t.init=0}).catch(function(t){document.location="/systemError"})},clanNone:function(){this.clan="none"},changeRegulation:function(t){t&&!confirm(this.$t('FormVG["レギュレーションを変更します。編集内容は破棄されますがよろしいですか？"]'))||(this.resetResult(),this.clan="",this.country="",this.regulation="",this.deck_type="N",this.use_sub=!1,this.$refs["deck"]&&this.$refs["deck"].clearList(),this.$emit("reset_result"),this.sr_init=!1,this.phase=1)},changeParam2:function(t){if(t){var e=this.$t('FormVG["クランを変更します。編集内容は破棄されますがよろしいですか？"]');if("D"==this.regulation&&(e=this.$t('FormVG["国家を変更します。編集内容は破棄されますがよろしいですか？"]')),!confirm(e))return}this.resetResult(),this.clan="",this.country="",this.deck_type="N",this.$refs["deck"]&&this.$refs["deck"].clearList(),this.$emit("reset_result"),this.sr_init=!1,this.phase=2},postCallbackNum:function(t){"D"!=this.regulation?t.name==this.$t('FormVG["ネオンギーゼ"]')&&(t.num>0&&!this.has_ng?this.has_ng=!0:t.num<=0&&(this.has_ng=!1)):this.$refs["deck"].reset_ride(t.card_number)},execEditFork:function(){if(this.can_search_clan=!1,this.has_ng=!1,"D"==this.regulation)this.use_sub=!0;else{this.clan&&"none"!=this.clan||(this.can_search_clan=!0),"P"!=this.regulation&&"O"!=this.regulation||(this.use_sub=!0);for(var t=this.param.list,e=0;e<t.length;e++)t[e].name==this.$t('FormVG["ネオンギーゼ"]')&&(this.has_ng=!0)}}}},M=L,B=Object(b["a"])(M,c,l,!1,null,null,null),j=B.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"deck container"},[0==t.init?s("div",{class:"deckform-container deckform-"+t.phase},[3!=t.phase?s("div",{staticClass:"create-form-logo row"},[s("div",{staticClass:"col-12 text-center"},[s("img",{attrs:{src:t.$store.getters.const("large_logo_image_path")["WS"],alt:t.$store.getters.const("game_title_names")["WS"]}})])]):t._e(),1==t.phase?s("div",{staticClass:"phase-1 row justify-content-center"},[s("div",{staticClass:"col-xl-2 col-lg-3 col-sm-1 col-0"}),s("div",{staticClass:"col-xl-8 col-lg-6 col-sm-10 col-10 deck-phase-param-p1"},[s("b-form-group",{attrs:{label:t.$t("Param.FormWS.phase-regulation")}},[s("ul",{staticClass:"search-radio"},t._l(t.s_regulation,function(e,a){return s("li",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.regulation,expression:"regulation"}],attrs:{type:"radio",name:"regulation",title:e},domProps:{value:a,checked:t._q(t.regulation,a)},on:{change:function(e){t.regulation=a}}}),t._v(t._s(e))])])}),0)])],1),s("div",{staticClass:"col-xl-2 col-lg-3 col-sm-1 col-0"})]):t._e(),2==t.phase?s("div",{staticClass:"phase-2"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-lg-3 col-sm-1 col-0"}),s("div",{staticClass:"col-lg-6 col-sm-10 col-10 deck-phase-param-p2 text-center"},[s("b-form-group",{attrs:{label:t.$t("Param.FormWS.phase-regulation")}},[s("span",{staticClass:"phase-2-select"},[t._v(t._s(t.s_regulation[t.regulation]))]),t.is_create?s("b-button",{staticClass:"btn-sm btn-xsm",on:{click:function(e){return t.changeRegulation(!1)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e()],1),t._m(0),s("b-form-group",[s("legend",{staticClass:"col-form-label pt-0",attrs:{id:"__BVID__30__BV_label_"}},[t._v(t._s(t.$t('FormWS["タイトルを選択"]')))]),s("vue-simple-suggest",{attrs:{list:t.getSuggestionList,"max-suggestions":1e3,autocomplete:"false",placeholder:t.$t("Param.FormWS.phase-regulation")},model:{value:t.title_number_input,callback:function(e){t.title_number_input=e},expression:"title_number_input"}}),"S"==t.regulation||"O"==t.regulation?s("div",[t.is_create?s("b-button",{staticClass:"row",on:{click:function(e){return t.titleNumberNone()}}},[t._v(t._s(t.$t('FormWS["タイトルを指定しない"]')))]):t._e()],1):t._e()],1)],1),s("div",{staticClass:"col-lg-3 col-sm-1 col-0"})])]):t._e(),3==t.phase?s("DeckSp",{ref:"deck-sp",attrs:{param:t._param,use_sub:t.use_sub,main_max_num:t.main_max_num,sub_max_num:t.sub_max_num,total_main_num:t.total_main_num,total_sub_num:t.total_sub_num},on:{showPreview:t.showPreview}}):t._e(),3==t.phase?s("div",{staticClass:"phase-3"},[s("div",{staticClass:" row"},[s("div",{staticClass:"col-xl-4 col-lg-4 col-sm-12 col-12 create-left-column"},[s("div",{staticClass:"row deck-top-reg-area"},[s("div",{staticClass:"create-form-logo-p3 col-4"},[s("table",{staticClass:"deck-top-reg-area-logo"},[s("tr",[s("td",[s("img",{attrs:{src:t.$store.getters.const("large_logo_image_path")["WS"],alt:t.$store.getters.const("game_title_names")["WS"]}})])])])]),s("div",{class:{"col-xl-8 col-lg-8 col-12":!0,"deck-top-reg-info":!0,"deck-top-reg-single":"N"!=t.regulation&&"T"!=t.regulation}},[s("table",{staticClass:"deck-top-reg-item"},[s("tr",[s("td",{class:{"deck-top-reg-item-left":!0,is_create:t.is_create}},[s("span",[t._v(t._s(t.s_regulation[t.regulation]))])]),t.is_create?s("td",{staticClass:"deck-top-reg-item-right"},[s("div",{staticClass:"deck-top-reg-btn"},[t.is_create?s("b-button",{staticClass:"btn-sm pc-only btn-xsm",on:{click:function(e){return t.changeRegulation(!0)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e(),t.is_create?s("b-button",{staticClass:"btn-sm sp-only btn-xsm",on:{click:function(e){return t.changeRegulation(!0)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e()],1)]):t._e()]),"N"==t.regulation||"T"==t.regulation?s("tr",[s("td",{class:{"deck-top-reg-item-left":!0,is_create:t.is_create}},["none"==t.title_number?s("span",[t._v(t._s(t.$t('Form["タイトル指定なし"]')))]):s("span",[t._v(t._s(t.s_title_number[t.title_number]))])]),t.is_create?s("td",{staticClass:"deck-top-reg-item-right"},[s("div",{staticClass:"deck-top-reg-btn"},[t.is_create?s("b-button",{staticClass:"btn-sm pc-only btn-xsm",on:{click:function(e){return t.changeTitleNumber(!0)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e(),t.is_create?s("b-button",{staticClass:"btn-sm sp-only btn-xsm",on:{click:function(e){return t.changeTitleNumber(!0)}}},[t._v(t._s(t.$t('Form["変更"]')))]):t._e()],1)]):t._e()]):t._e()])])]),s("SearchForm",{ref:"searchform",attrs:{param:t._form_param},on:{search:t.search}})],1),s("div",{staticClass:"col-xl-8 col-lg-8 col-sm-12 col-12 create-right-column"},[s("Deck",{ref:"deck",staticClass:"deck-fixed",attrs:{param:t._param,use_sub:t.use_sub,s_list2:t.s_title_number,main_max_num:t.main_max_num,sub_max_num:t.sub_max_num,total_main_num:t.total_main_num,total_sub_num:t.total_sub_num},on:{postCallbackNum:t.postCallbackNum,applyToDeckForm:t.applyToDeckForm,update_num_deck:t.update_num_deck}}),s("div",{class:{row:!0,show:t.result&&t.result.length>0},attrs:{id:"search-results"}},t._l(t.result,function(e){return s("CardSearch",{key:"result_"+e.card_number,ref:"result_"+e.card_number,refInFor:!0,attrs:{param:e,deck_type:t.deck_type,game_title_id:t.game_title_id},on:{increment:t.increment,decrement:t.decrement}})}),1),t.loading?s("div",{class:"page-"+t.page,attrs:{id:"search-results-loader-bg"}},[t._m(1)]):t._e(),1==t.zero_result?s("p",{staticClass:"zero_result"},[t._v("\n"+t._s(t.$t('Form["一致するカードはありませんでした。"]'))+"\n")]):t._e()],1)])]):t._e(),s("div",{staticClass:"row create-footer-area"})],1):t._e()])},J=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"deck-phase-p2-arrow"},[s("span",{staticClass:"oi oi-caret-bottom"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center",attrs:{id:"search-loader"}},[s("div",{staticClass:"align-items-center mx-auto text-center"},[s("div",{staticClass:"spinner-border text-danger",attrs:{role:"status"}}),s("div",[s("span",[t._v("Loading...")])])])])}],H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-searchform"},[0!=t.init?s("div",{attrs:{id:"search-loader-bg"}},[t._m(0)]):t._e(),0==t.init?s("div",[s("b-form",{on:{submit:function(t){t.preventDefault()}}},[s("b-form-group",{attrs:{label:t.$t("Param.FormWS.keyword-label")}},[s("div",{staticClass:"d-inline-flex"},[s("b-form-input",{staticClass:"b-form-input m-w-120",attrs:{name:"keyword",placeholder:t.$t("Param.FormWS.keyword-placeholder"),autocomplete:"off"},model:{value:t.form_p.keyword,callback:function(e){t.$set(t.form_p,"keyword",e)},expression:"form_p.keyword"}}),s("div",{staticClass:"clear_keyword_btn"},[s("span",{staticClass:"oi oi-circle-x",attrs:{transition:"fade"},on:{click:function(e){return t.clearKeyword()}}})])],1),s("div",{attrs:{id:"keyword_type_check"}},[s("ul",{staticClass:"search-check"},t._l(t.s_keyword_type,function(e,a){return s("li",[s("label",{staticClass:"active"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword_type,expression:"keyword_type"}],attrs:{type:"checkbox",name:"keyword_type",title:e},domProps:{value:a,checked:Array.isArray(t.keyword_type)?t._i(t.keyword_type,a)>-1:t.keyword_type},on:{change:function(e){var s=t.keyword_type,i=e.target,r=!!i.checked;if(Array.isArray(s)){var n=a,o=t._i(s,n);i.checked?o<0&&(t.keyword_type=s.concat([n])):o>-1&&(t.keyword_type=s.slice(0,o).concat(s.slice(o+1)))}else t.keyword_type=r}}}),t._v(t._s(e))])])}),0)])]),t.can_search_title_number?s("b-form-group",{attrs:{label:t.$t("Param.FormWS.title-label")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"title_number"},model:{value:t.form_p.title_number,callback:function(e){t.$set(t.form_p,"title_number",e)},expression:"form_p.title_number"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["すべて"]')))]),t._l(t.s_title_number,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1):t._e(),s("b-form-group",{attrs:{label:t.$t("Param.FormWS.kind-label")}},[s("ul",{staticClass:"search-radio"},t._l(t.s_card_kind,function(e,a){return s("li",[s("label",{class:{active:0==a}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form_p.card_kind,expression:"form_p.card_kind"}],attrs:{type:"radio",name:"card_kind",title:e},domProps:{value:a,checked:t._q(t.form_p.card_kind,a)},on:{change:function(e){return t.$set(t.form_p,"card_kind",a)}}}),t._v(t._s(e))])])}),0)]),s("b-form-group",{attrs:{label:t.$t("Param.FormWS.level-label")}},[s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"level_s"},model:{value:t.form_p.level_s,callback:function(e){t.$set(t.form_p,"level_s",e)},expression:"form_p.level_s"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_level,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2),t._v("\n～\n"),s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"level_e"},model:{value:t.form_p.level_e,callback:function(e){t.$set(t.form_p,"level_e",e)},expression:"form_p.level_e"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_level,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1),s("b-form-group",{attrs:{label:t.$t("Param.FormWS.power-label"),inline:!0}},[s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"power_s"},model:{value:t.form_p.power_s,callback:function(e){t.$set(t.form_p,"power_s",e)},expression:"form_p.power_s"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_power,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2),t._v("\n～\n"),s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"power_e"},model:{value:t.form_p.power_e,callback:function(e){t.$set(t.form_p,"power_e",e)},expression:"form_p.power_e"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_power,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1),s("b-form-group",{attrs:{label:t.$t("Param.FormWS.color-label"),inline:!0}},[s("ul",{staticClass:"search-radio"},t._l(t.s_color,function(e,a){return s("li",[s("label",{class:{active:0==a}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form_p.color,expression:"form_p.color"}],attrs:{type:"radio",name:"color",title:e},domProps:{value:a,checked:t._q(t.form_p.color,a)},on:{change:function(e){return t.$set(t.form_p,"color",a)}}}),t._v(t._s(e))])])}),0)]),s("b-form-group",{attrs:{label:t.$t("Param.FormWS.soul-label"),inline:!0}},[s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"soul_s"},model:{value:t.form_p.soul_s,callback:function(e){t.$set(t.form_p,"soul_s",e)},expression:"form_p.soul_s"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_soul,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2),t._v("\n～\n"),s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"soul_e"},model:{value:t.form_p.soul_e,callback:function(e){t.$set(t.form_p,"soul_e",e)},expression:"form_p.soul_e"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_soul,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1),s("b-form-group",{attrs:{label:t.$t("Param.FormWS.cost-label"),inline:!0}},[s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"cost_s"},model:{value:t.form_p.cost_s,callback:function(e){t.$set(t.form_p,"cost_s",e)},expression:"form_p.cost_s"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_cost,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2),t._v("\n～\n"),s("b-form-select",{staticClass:"b-form-select w-40",attrs:{name:"cost_e"},model:{value:t.form_p.cost_e,callback:function(e){t.$set(t.form_p,"cost_e",e)},expression:"form_p.cost_e"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["指定なし"]')))]),t._l(t.s_cost,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1),s("b-form-group",{attrs:{label:t.$t("Param.FormWS.trigger-label")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"trigger"},model:{value:t.form_p.trigger,callback:function(e){t.$set(t.form_p,"trigger",e)},expression:"form_p.trigger"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["すべて"]')))]),t._l(t.s_trigger,function(e,a){return s("option",{domProps:{value:a}},[t._v(t._s(e))])})],2)],1),s("div",{staticClass:"text-center form-clear-btn"},[s("b-button",{staticClass:"btn-sm",on:{click:function(e){return t.form_reset()}}},[t._v(t._s(t.$t('Form["検索条件をクリア"]')))])],1)],1)],1):t._e()])},U=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center",attrs:{id:"search-loader"}},[s("div",{staticClass:"align-items-center mx-auto text-center"},[s("div",{staticClass:"spinner-border text-danger",attrs:{role:"status"}}),s("div",[s("span",[t._v("Loading...")])])])])}],Q={name:"SearchFormWS",components:{},props:["param"],data:function(){return{form_p_change:null,init:1,phase:1,game_title_id:2,game_title:"ws",regulation:"",can_search_title_number:!1,keyword_type:[""],keyword_type_default:[],keyword_type_all:!0,s_keyword_type:null,s_title_number:null,s_level:null,s_card_kind:null,s_power:null,s_color:null,s_soul:null,s_cost:null,s_trigger:null,form_p:{title_number:"",keyword:"",keyword_type:[""],side:"",card_kind:"0",level_s:"",level_e:"",power_s:"",power_e:"",color:"0",soul_s:"",soul_e:"",cost_s:"",cost_e:"",trigger:"",option_counter:!1,option_clock:!1},form_p_default:null}},created:function(){this.form_p_change=k()(function(t){if(""!=this.form_p.keyword){if(this.form_p.keyword_type.toString()!=this.keyword_type.toString())return void(this.form_p.keyword_type=this.keyword_type)}else this.form_p.keyword_type=this.keyword_type_default;this.$emit("search",this.form_p)},500),this.execCreated()},computed:{_form_p:function(){return JSON.stringify(this.form_p)},_param:function(){var t=this.param;return t.game_title_id=this.game_title_id,t.game_format_id=this.game_format_id,t},_keyword_type:function(){return this.keyword_type.toString()},_card_kind:function(){return this.form_p.card_kind},_color:function(){return this.form_p.color}},watch:{_form_p:function(t,e){this.form_p_change()},_keyword_type:function(){this.check_keyword_type(!1),""!=this.form_p.keyword&&this.form_p_change()},_card_kind:function(){this.check_card_kind(!1)},_color:function(){this.check_color(!1)}},methods:{execCreated:function(){var t=this;this.can_search_title_number=this.param.can_search_title_number,this.form_p_default=JSON.stringify(this.form_p),this.$http.post("/system/app/api/cardparam/"+this.game_title_id).then(function(e){var s=e.data;for(var a in t.s_keyword_type=s.keyword_type,t.keyword_type_default=[],t.s_keyword_type)t.keyword_type_default.push(a);t.form_p.keyword_type=t.keyword_type_default,t.keyword_type=t.keyword_type_default,t.s_title_number=s.title_number_select,t.s_level=s.level,t.s_card_kind=s.card_kind,t.s_power=s.power,t.s_color=s.color,t.s_soul=s.soul,t.s_cost=s.cost,t.s_trigger=s.trigger,t.init=0,t.$emit("search",t.form_p)}).catch(function(t){document.location="/systemError"})},form_reset:function(){this.form_p.title_number="",this.form_p.keyword="",this.form_p.keyword_type=this.keyword_type_default,this.form_p.side="",this.form_p.card_kind="0",this.form_p.level_s="",this.form_p.level_e="",this.form_p.power_s="",this.form_p.power_e="",this.form_p.color="0",this.form_p.soul_s="",this.form_p.soul_e="",this.form_p.cost_s="",this.form_p.cost_e="",this.form_p.trigger="",this.form_p.option_counter=!1,this.form_p.option_clock=!1,this.check_keyword_type(!0),this.check_card_kind(!0),this.check_color(!0)},check_keyword_type:function(t){if(t)this.keyword_type=this.keyword_type_default,this.keyword_type_all=!0,$('.search-check input[name="keyword_type"]').each(function(t){$(this).parents("label").addClass("active"),$(this).prop("checked",!0)});else{0==this.keyword_type.length?(this.keyword_type=this.keyword_type_default,this.keyword_type_all=!0):$.inArray("all",this.keyword_type)>=0&&this.keyword_type.length>1&&(this.keyword_type_all?(this.keyword_type.splice(this.keyword_type.indexOf("all"),1),this.keyword_type_all=!1):(this.keyword_type=this.keyword_type_default,this.keyword_type_all=!0));var e=this;$('.search-check input[name="keyword_type"]').each(function(t){$.inArray($(this).val(),e.keyword_type)>=0?($(this).parents("label").addClass("active"),$(this).prop("checked",!0)):($(this).parents("label").removeClass("active"),$(this).prop("checked",!1))})}},check_card_kind:function(t){$('.search-radio input[name="card_kind"]').each(function(e){!t&&$(this).prop("checked")?$(this).parents("label").addClass("active"):($(this).parents("label").removeClass("active"),t&&$(this).prop("checked",!1)),t&&"0"==$(this).val()&&($(this).parents("label").addClass("active"),$(this).prop("checked",!0))})},check_color:function(t){$('.search-radio input[name="color"]').each(function(e){!t&&$(this).prop("checked")?$(this).parents("label").addClass("active"):($(this).parents("label").removeClass("active"),t&&$(this).prop("checked",!1)),t&&"0"==$(this).val()&&($(this).parents("label").addClass("active"),$(this).prop("checked",!0))})},clearKeyword:function(){this.form_p.keyword=""}}},X=Q,Y=Object(b["a"])(X,H,U,!1,null,null,null),Z=Y.exports,tt=s("5111"),et=(s("c4c9"),{name:"DeckFormWS",mixins:[_],props:["param"],components:{CardSearch:W,Deck:w,DeckSp:S,SearchForm:Z,VueSimpleSuggest:tt["a"]},data:function(){return{title_number_input_change:null,regulation:"",title_number:"",title_number_input:" ",can_search_title_number:!1,s_regulation:null,s_title_number:null,main_max_num:50,sub_max_num:0,deck_type:"N",curSuggestionValue:""}},created:function(){this.title_number_input_change=k()(function(t){var e=this;return this.$http.post("/system/app/api/suggest/"+this.game_title_id,{param:t}).then(function(s){var a=[];for(var i in s.data)a.push(s.data[i]);return e.curSuggestionValue=t,a})},100),this.execCreated()},computed:{_param:function(){var t=this.param;return t.game_title_id=this.game_title_id,t.game_format_id=this.game_format_id,t.deck_param1=this.regulation,t.deck_param2=this.title_number,t},_form_param:function(){var t={};return t.regulation=this.regulation,t.can_search_title_number=this.can_search_title_number,t},deck_param1:function(){return this.regulation},deck_param2:function(){return this.title_number}},watch:{init:function(){this.init<=0&&this.$emit("fadein")},regulation:function(t){t&&1==this.phase&&("S"==t||"O"==t?(this.title_number="none",this.can_search_title_number=!0,this.phase=3,this.setResize()):this.phase=2)},title_number_input:function(t){for(var e in this.s_title_number)if(this.s_title_number[e]==t){this.title_number=e;break}""==this.title_number_input&&(this.title_number_input=" ")},title_number:function(t){t&&2==this.phase&&(this.can_search_title_number=!1,"none"==t&&(this.can_search_title_number=!0),this.$refs["searchform"]&&this.$refs["searchform"].init(this._form_param),this.phase=3,this.setResize())}},methods:{execCreated:function(){var t=this;this.phase=1,this.game_title_id=this.$store.getters.const("game_title_ids")["WS"],this.game_title="ws",this.mode=this.param.mode,this.s_regulation=this.$store.getters.const("ws_s_regulation"),"CREATE"!=this.mode&&(this.is_create=!1,this.regulation=this.param.deck_param1,this.title_number=this.param.deck_param2,this.title_number||(this.title_number="none"),this.can_search_title_number=!1,this.title_number||(this.can_search_title_number=!0),this.phase=3,this.setResize()),this.$http.post("/system/app/api/cardparam/"+this.game_title_id).then(function(e){var s=e.data;t.s_title_number=s.title_number_select,t.init=0}).catch(function(t){document.location="/systemError"})},getSuggestionList:function(t){var e=this;return this.$http.post("/system/app/api/suggest/"+this.game_title_id,{param:t}).then(function(s){var a=[];for(var i in s.data)a.push(s.data[i]);return e.curSuggestionValue=t,a}).catch(function(t){document.location="/systemError"})},titleNumberNone:function(){this.title_number="none"},changeRegulation:function(t){t&&!confirm(this.$t('FormWS["構築ルールを変更します。編集内容は破棄されますがよろしいですか？"]'))||(this.resetResult(),this.regulation="",this.title_number="",this.title_number_input=" ",this.regulation="",this.deck_type="N",this.$refs["deck"]&&this.$refs["deck"].clearList(),this.$emit("reset_result"),this.sr_init=!1,this.phase=1)},changeTitleNumber:function(t){t&&!confirm(this.$t('FormWS["タイトルを変更します。編集内容は破棄されますがよろしいですか？"]'))||(this.resetResult(),this.title_number="",this.title_number_input=" ",this.deck_type="N",this.$refs["deck"]&&this.$refs["deck"].clearList(),this.$emit("reset_result"),this.sr_init=!1,this.phase=2)},postIncrement:function(t){this.postCallbackNum(t)},postDecrement:function(t){this.postCallbackNum(t)},postCallbackNum:function(t){},execEditFork:function(){}}}),st=et,at=Object(b["a"])(st,K,J,!1,null,null,null),it=at.exports,rt={name:"create",mixins:[o["a"]],components:{Session:r["a"],Message:n["a"],DeckFormWS:it,DeckFormVG:j},head:{title:function(){return{inner:"ja"==this.$i18n.locale?this.$t('Create["デッキ"]')+this._mode_text:this._mode_text+" "+this.$t('Create["デッキ"]').toLowerCase(),complement:this.$store.getters.const("site_title")}}},created:function(){$("html,body").css({"overflow-x":"visible","overflow-y":"visible"}),this.execCreated()},watch:{init:function(){this.execInit()},session_loaded:function(){this.execInit()},cur_deck_count:function(){"EDIT"!=this.mode&&this.cur_deck_count>=this.$store.getters.const("deck_create_max_size")&&this.setDeckCountMaxMessage()},$route:function(t,e){this.execCreated()}},data:function(){return{message:"",init:1,init_default:1,mode:"CREATE",can_edit:!0,game_title_id:"",cur_deck_count:0,param:null,session_loaded:!1,inited:!1}},computed:{_mode_text:function(){var t=this.$t('Create["作成"]');return"EDIT"==this.mode&&(t=this.$t('Create["編集"]')),"FORK"==this.mode&&(t=this.$t('Create["編集"]')),t}},methods:{initData:function(){this.$toasted.clear(),this.message="",this.init=this.init_default,this.inited=!1,this.mode="CREATE",this.can_edit=!0,this.game_title_id="",this.param={mode:"CREATE",id:"",title:"",memo:"",game_format_id:"",deck_id:"",forked_deck_id:"",list:[],sub_list:[],p_list:[],can_edit:!0,status:!0,deck_param1:"",deck_param2:"",owner:!1}},execCreated:function(){var t=this;this.initData(),$("html").css("overflow-x","auto"),$("html").css("overflow-y","hidden"),$("body.body-page-create").css("height",window.innerHeight-1+"px"),$("body.body-page-create .container-fluid").on("scroll",function(){$(this).scrollTop()>100?$(".pagetop").fadeIn("fast"):$(".pagetop").fadeOut("fast");var t=$(this).height(),e=$(this).height()+$(this).scrollTop();t-e<0?$(".pagetop").css({position:"absolute"}):$(".pagetop").css({position:"fixed"})}),$("body.body-page-create .create-movetotop").click(function(){return!1}),$(window).resize(function(){$("body.body-page-create")[0]?$("body.body-page-create").css("height",window.innerHeight-1+"px"):$("body").css("height","auto")}),"edit"==this.$route.name&&(this.mode="EDIT"),"copy"==this.$route.name&&(this.mode="FORK"),this.param.mode=this.mode;var e=escapeHTML(this.$route.params["id"]);"CREATE"==this.mode?this.$http.post("/system/app/api/create/").then(function(e){var s=e.data,a={};a.token_id=s.token_id,a.token=s.token,t.$store.commit("setToken",a),s.cur_deck_count>=t.$store.getters.const("deck_create_max_size")&&t.setDeckCountMaxMessage(),t.cur_deck_count=s.cur_deck_count,t.$route.query.c&&t.$store.getters.const("game_title_ids_rev")[t.$route.query.c]&&(t.game_title_id=t.$route.query.c),t.init--,t.init<=0&&t.execInit()}).catch(function(t){document.location="/systemError"}):e&&"EDIT"==this.mode?this.$http.post("/system/app/api/edit/"+e).then(function(e){var s=e.data;if(s&&s.id){t.param.mode=t.mode,t.game_title_id=s.game_title_id,t.game_format_id=s.game_format_id,t.param.id=s.id,t.param.title=s.title,t.param.memo=s.memo,t.param.deck_id=s.deck_id,t.param.forked_deck_id="",t.param.list=s.list,t.param.sub_list=s.sub_list,t.param.p_list=s.p_list,t.param.deck_param1=s.deck_param1,t.param.deck_param2=s.deck_param2,t.param.owner=s.owner,t.param.status=s.status,t.param.can_edit=s.can_edit,t.can_edit=s.can_edit,t.cur_deck_count=s.cur_deck_count;var a={};a.token_id=s.token_id,a.token=s.token,t.$store.dispatch("setToken",a)}else t.message=t.$t('Create["指定のデッキは存在しないか編集することが出来ません"]');t.init--}).catch(function(t){document.location="/systemError"}):e&&"FORK"==this.mode?this.$http.post("/system/app/api/fork/"+e).then(function(e){var s=e.data;if(s&&s.id){s.cur_deck_count>=t.$store.getters.const("deck_create_max_size")&&t.setDeckCountMaxMessage(),t.cur_deck_count=s.cur_deck_count,t.param.mode=t.mode,t.game_title_id=s.game_title_id,t.game_format_id=s.game_format_id,t.param.id="",t.param.title="",t.param.memo="",t.param.deck_id="",t.param.forked_deck_id=s.forked_deck_id,t.param.list=s.list,t.param.sub_list=s.sub_list,t.param.p_list=s.p_list,t.param.deck_param1=s.deck_param1,t.param.deck_param2=s.deck_param2,t.param.owner=s.owner,t.param.status=s.status,t.param.can_edit=s.can_edit,t.can_edit=s.can_edit;var a={};a.token_id=s.token_id,a.token=s.token,t.$store.dispatch("setToken",a)}else t.message=t.$t('Create["指定のデッキは存在しないかコピーすることが出来ません"]');t.init--}).catch(function(t){document.location="/systemError"}):document.location="/systemError"},execInit:function(){this.init<=0&&this.session_loaded&&!this.inited&&(this.inited=!0,$("body.body-page-create > .container-fluid").css("height","100%"),this.$emit("fadein"))},sessionLoaded:function(){this.session_loaded=!0},selectContent:function(t){this.$emit("fadeout"),this.param.list=[],this.game_title_id=t||""},reset_result:function(){this.param.list=[],this.param.sub_list=[],this.param.p_list=[]},fadein:function(){this.$emit("fadein")},detail_link:function(){var t=this.$store.getters.popup_link;window.open(t,"card_detail")},setDeckCountMaxMessage:function(){this.message=this.$t('Create["デッキ保存の上限数に達しています。不要なデッキを削除してください。"]')}}},nt=rt,ot=Object(b["a"])(nt,a,i,!1,null,null,null);e["default"]=ot.exports},e853:function(t,e,s){var a=s("d3f4"),i=s("1169"),r=s("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),a(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}}}]);