(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6f59cbe"],{"0f7d":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.message?s("div",{staticClass:"system-message row"},[s("p",{staticClass:"col-12 text-center",staticStyle:{"'color":"'+_color"}},[t._v("\n"+t._s(t.message)+"\n")])]):t._e()},a=[],o={name:"message",props:["message","color"],data:function(){return{message:""}},watch:{message:function(){}},computed:{_color:function(){return this.color?this.color:"#FF0000"}},methods:{}},n=o,c=s("2877"),r=Object(c["a"])(n,i,a,!1,null,null,null);e["a"]=r.exports},"1a33":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list container"},[s("Session",{attrs:{required:"true"},on:{sessionLoaded:t.sessionLoaded}}),s("h2",[t._v(t._s(t.$t('List["デッキ一覧"]')))]),this.$store.getters.select?s("b-modal",{attrs:{id:"deckselect_detail",title:"","hide-footer":""}},[s("div",{staticClass:"text-center"},[s("img",{attrs:{src:"/static/img/deck-popup-event.png?20210301"}})]),t.is_first_popup?s("div",{staticClass:"text-center",attrs:{id:"deckselect_detail_popup_check"}},[s("label",{},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.popup_disabled_check,expression:"popup_disabled_check"}],attrs:{type:"checkbox",name:"popup_disabled_check"},domProps:{checked:Array.isArray(t.popup_disabled_check)?t._i(t.popup_disabled_check,null)>-1:t.popup_disabled_check},on:{change:function(e){var s=t.popup_disabled_check,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=null,n=t._i(s,o);i.checked?n<0&&(t.popup_disabled_check=s.concat([o])):n>-1&&(t.popup_disabled_check=s.slice(0,n).concat(s.slice(n+1)))}else t.popup_disabled_check=a}}}),t._v(" "+t._s(t.$t('List["この画面を以降表示しない"]')))])]):t._e()]):t._e(),s("b-modal",{attrs:{id:"icon_detail",title:"","hide-footer":""}},[s("div",{staticClass:"text-center"},[s("img",{attrs:{src:"/static/img/deck-popup-icon.png?20210301"}})])]),this.$store.getters.select?s("div",{staticClass:"select-deck-info"},[s("h3",[t._v(t._s(t.$t('List["イベントに登録するデッキを選択してください"]')))]),t.battle_title?s("p",[t._v(t._s(t.$t('List["イベント名："]'))+t._s(t.battle_title)+" - "+t._s(t.game_title))]):t._e(),t.game_format_name?s("p",[t._v(t._s(t.$t('List["レギュレーション："]'))+t._s(t.game_format_name))]):t._e(),s("div",{staticClass:"deckselect_detail_button_area"},[s("div",{attrs:{id:"deckselect_detail_button"}},[s("i",{staticClass:"fas fa-question-circle"}),s("span",{on:{click:function(e){return t.openDeckselectPopup(!1)}}},[t._v(t._s(t.$t('List["デッキ登録について"]')))])])])]):s("div",[s("p",[t._v(t._s(t.$t('List["あなたが作成したデッキの一覧です"]')))])]),s("b-form",[s("b-form-group",{attrs:{label:t.$t("Param.List.b_form_title")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"game_title_id"},model:{value:t.form_p.content,callback:function(e){t.$set(t.form_p,"content",e)},expression:"form_p.content"}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t('Form["すべて"]')))]),t._l(t.s_game_title_id,function(e,i){return s("option",{domProps:{value:i}},[t._v(t._s(e))])})],2)],1),t.form_p.content==t.$store.getters.const("game_title_ids")["VG"]?s("ListFormVG",{ref:"form_1",on:{searchForm:t.searchForm}}):t._e(),t.form_p.content==t.$store.getters.const("game_title_ids")["WS"]?s("ListFormWS",{ref:"form_2",on:{searchForm:t.searchForm}}):t._e(),s("b-form-group",{attrs:{label:t.$t("Param.List.b_form_keyword")}},[s("b-form-input",{staticClass:"b-form-input",attrs:{name:"keyword",placeholder:t.$t("Param.List.b_form_keyword_placeholder")},model:{value:t.form_p.keyword,callback:function(e){t.$set(t.form_p,"keyword",e)},expression:"form_p.keyword"}})],1)],1),s("div",{staticClass:"row icon_detail_button_area"},[s("div",{staticClass:"col-md-8 col-sm-12 col-12 text-left cur-deck-count"},[t.cur_deck_count>=0?s("span",[t._v(t._s(t.$t('List["保存デッキ数："]'))+t._s(t.cur_deck_count))]):t._e()]),s("div",{staticClass:"col-md-4 col-sm-12 col-12 text-right",attrs:{id:"icon_detail_button"}},[s("i",{staticClass:"fas fa-question-circle"}),s("span",{on:{click:function(e){return t.openIconPopup()}}},[t._v(t._s(t.$t('List["アイコン説明"]')))])])]),s("div",{attrs:{id:"deck-list"}},t._l(t.list,function(e){return s("b-row",{key:e.id,class:["deck-item","item-"+e.id]},[s("b-col",[s("div",{staticClass:"row1 row"},[s("div",{staticClass:"col-md-7 col-sm-12 col-12"},[s("span",{staticClass:"date"},[t._v(t._s(t.__toDate(e.update_date)))]),s("img",{staticClass:"list-tcg-logo",attrs:{src:t.$store.getters.const("logo_image_path")[t.$store.getters.const("game_title_ids_rev")[e.game_title_id]],alt:t.$store.getters.const("game_title_names")[t.$store.getters.const("game_title_ids_rev")[e.game_title_id]]}}),t._v("\n "+t._s(t.getDeckId(e))+"\n"),t.checkCanEdit(e)?s("i",{staticClass:"far fa-edit icon-item icon-clickable icon-pc-only",on:{click:function(s){t.__trans("/edit/"+t.editcopyId(e))}}}):t._e(),t.checkCanSelect(e)?s("b-button",{staticClass:"my-2 my-sm-0",attrs:{variant:"warning",size:"sm"},on:{click:function(s){return t.selectDeck(e.deck_id)}}},[t._v(t._s(t.$t('List["選択"]')))]):t._e()],1),s("div",{staticClass:"col-md-5 col-sm-12 col-12 list-icon-area"},[s("span",{staticClass:"list-icon-area1"},[e.status==t.$store.getters.const("deck_status")["DRAFT"]?s("span",{staticClass:"list-deck-label list-deck-draft"},[t._v(t._s(t.$t('List["下書き"]')))]):t._e(),e.used&&e.deck_id==t.cur_deck_id?s("span",{staticClass:"list-deck-label list-deck-cur"},[t._v(t._s(t.$t('List["デッキ登録中"]')))]):t._e(),e.used&&e.deck_id!=t.cur_deck_id?s("span",{staticClass:"list-deck-label list-deck-used"},[t._v(t._s(t.$t('List["デッキ登録済"]')))]):t._e(),e.has_error?s("span",{staticClass:"icon-item icon-item-has_error"},[s("img",{attrs:{src:"/static/img/icon/list-icon-error.png"}})]):t._e()]),s("span",{staticClass:"list-icon-area2"},[s("i",{staticClass:"fa fa-search icon-item icon-clickable",on:{click:function(s){t.__trans("/view/"+t.editcopyId(e))}}}),t.checkCanEdit(e)?s("i",{staticClass:"far fa-edit icon-item icon-clickable icon-sp-only",on:{click:function(s){t.__trans("/edit/"+t.editcopyId(e))}}}):t._e(),s("i",{staticClass:"far fa-copy icon-item icon-clickable",on:{click:function(s){t.__trans("/copy/"+t.editcopyId(e))}}}),t.checkCanDelete(e)?s("i",{staticClass:"far fa-trash-alt icon-item icon-clickable",on:{click:function(s){return t.delete_deck(e.id)}}}):t._e()])])]),s("div",{staticClass:"row2"},[s("p",{staticClass:"list-regulation",domProps:{innerHTML:t._s(t.getRegulationName(e))}}),s("p",[t._v(t._s(e.title))]),s("p",{domProps:{innerHTML:t._s(t.__toSpace(e.memo))}})])])],1)}),1),t.loading_wait?s("div",{class:"page-"+t.page,attrs:{id:"search-results-loader-bg"}},[t._m(0)]):t._e(),1==t.zero_result?s("p",{staticClass:"text-center list_zero_result"},[t._v("\n"+t._s(t.$t('List["一致するデッキはありませんでした。"]'))+"\n")]):t._e(),s("form",{attrs:{id:"selectDeck",method:"post",action:""}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deck_id,expression:"deck_id"}],attrs:{type:"hidden",name:"deck_id",id:"deck_id"},domProps:{value:t.deck_id},on:{input:function(e){e.target.composing||(t.deck_id=e.target.value)}}})])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex align-items-center",attrs:{id:"search-loader"}},[s("div",{staticClass:"align-items-center mx-auto text-center"},[s("div",{staticClass:"spinner-border text-danger",attrs:{role:"status"}}),s("div",[s("span",[t._v("Loading...")])])])])}],o=s("92b1"),n=s("0f7d"),c=s("b047"),r=s.n(c),l=s("1b62"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.init?s("div",[1==t.phase?s("b-form-group",{attrs:{label:t.$t("Param.ListVG.b-form1-label")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"regulation"},model:{value:t.regulation,callback:function(e){t.regulation=e},expression:"regulation"}},[s("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$t('Form["選択してください"]'))+" --")]),t._l(t.s_regulation,function(e,i){return s("option",{domProps:{value:i}},[t._v(t._s(e))])})],2)],1):t._e(),2==t.phase?s("div",[s("b-form-group",{attrs:{label:t.$t("Param.ListVG.b-form1-label")}},[s("span",{staticClass:"phase-2-select"},[t._v(t._s(t.s_regulation[t.regulation]))]),s("b-button",{staticClass:"btn-sm btn-xsm",on:{click:function(e){return t.changeRegulation()}}},[t._v(t._s(t.$t('Form["変更"]')))])],1),"O"!=t.regulation?s("div",["D"==t.regulation?s("b-form-group",{attrs:{label:t.$t("Param.ListVG.b-form2-label1")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"country"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},[s("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$t('Form["選択してください"]'))+" --")]),t._l(t.s_deck_country,function(e,i){return s("option",{domProps:{value:i}},[t._v(t._s(e))])})],2)],1):t._e(),"V"==t.regulation?s("b-form-group",{attrs:{label:t.$t("Param.ListVG.b-form2-label2")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"clan"},model:{value:t.clan,callback:function(e){t.clan=e},expression:"clan"}},[s("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$t('Form["選択してください"]'))+" --")]),t._l(t.s_deck_clan_clanfight_v,function(e,i){return s("option",{domProps:{value:i}},[t._v(t._s(e))])})],2)],1):t._e(),"P"==t.regulation?s("b-form-group",{attrs:{label:t.$t("Param.ListVG.b-form2-label2")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"clan"},model:{value:t.clan,callback:function(e){t.clan=e},expression:"clan"}},[s("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$t('Form["選択してください"]'))+" --")]),t._l(t.s_deck_clan_clanfight_p,function(e,i){return s("option",{domProps:{value:i}},[t._v(t._s(e))])}),s("option",{attrs:{value:"none"}},[t._v(t._s(t.$t('ListVG["エクストリームファイト"]')))])],2)],1):t._e()],1):t._e()],1):t._e()],1):t._e()},u=[],d={name:"ListFormVG",data:function(){return{game_title_id:1,init:1,phase:1,regulation:"",country:"",clan:"",s_deck_clan_clanfight_v:null,s_deck_clan_clanfight_p:null,s_deck_country:null,s_regulation:null}},created:function(){this.execCreated()},computed:{_form_p:function(){var t={};return t.deck_param1=this.regulation,"D"==this.regulation?t.deck_param2=this.country:t.deck_param2=this.clan,t}},watch:{_form_p:function(t,e){this.$emit("searchForm",this._form_p)},regulation:function(t){t&&1==this.phase&&(this.phase=2)}},methods:{execCreated:function(){var t=this;this.s_regulation=this.$store.getters.const("vg_s_regulation"),this.$http.post("/system/app/api/cardparam/"+this.game_title_id).then(function(e){var s=e.data;t.s_deck_clan_clanfight_v=s.deck_clan_clanfight_v,t.s_deck_clan_clanfight_p=s.deck_clan_clanfight_p,t.s_deck_country=s.deck_country,t.init=0}).catch(function(t){document.location="/systemError"})},changeRegulation:function(){this.clan="",this.country="",this.regulation="",this.phase=1}}},p=d,m=s("2877"),h=Object(m["a"])(p,_,u,!1,null,null,null),f=h.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0==t.init?s("div",[1==t.phase?s("b-form-group",{attrs:{label:t.$t("Param.ListWS.b-form1-label")}},[s("b-form-select",{staticClass:"b-form-select",attrs:{name:"regulation"},model:{value:t.regulation,callback:function(e){t.regulation=e},expression:"regulation"}},[s("option",{attrs:{value:""}},[t._v("-- "+t._s(t.$t('Form["選択してください"]'))+" --")]),t._l(t.s_regulation,function(e,i){return s("option",{domProps:{value:i}},[t._v(t._s(e))])})],2)],1):t._e(),2==t.phase?s("div",[s("b-form-group",{attrs:{label:t.$t("Param.ListWS.b-form1-label")}},[s("span",{staticClass:"phase-2-select"},[t._v(t._s(t.s_regulation[t.regulation]))]),s("b-button",{staticClass:"btn-sm btn-xsm",on:{click:function(e){return t.changeRegulation()}}},[t._v(t._s(t.$t('Form["変更"]')))])],1),"N"==t.regulation||"T"==t.regulation?s("b-form-group",[s("legend",{staticClass:"col-form-label pt-0",attrs:{id:"__BVID__30__BV_label_"}},[t._v(t._s(t.$t('ListWS["タイトル"]'))),s("b-button",{staticClass:"btn-sm btn-xsm ws_clear_btn",on:{click:function(e){return t.clearTitleNumberInput()}}},[t._v(t._s(t.$t('Form["クリア"]')))])],1),s("vue-simple-suggest",{attrs:{list:t.getSuggestionList,"max-suggestions":1e3,autocomplete:"false",placeholder:t.$t("Param.ListWS.b-form2_placeholder")},model:{value:t.title_number_input,callback:function(e){t.title_number_input=e},expression:"title_number_input"}})],1):t._e()],1):t._e()],1):t._e()},b=[],k=s("5111"),v=(s("c4c9"),{name:"ListFormWS",components:{VueSimpleSuggest:k["a"]},data:function(){return{game_title_id:2,init:1,phase:1,title_number_input_change:null,regulation:"",title_number:"",title_number_input:" ",s_regulation:null,s_title_number:null,curSuggestionValue:""}},created:function(){this.title_number_input_change=r()(function(t){var e=this;return this.$http.post("/system/app/api/suggest/"+this.game_title_id,{param:t}).then(function(s){var i=[];for(var a in s.data)i.push(s.data[a]);return e.curSuggestionValue=t,i})},100),this.execCreated()},computed:{_form_p:function(){var t={};return t.deck_param1=this.regulation,t.deck_param2=this.title_number,t}},watch:{title_number_input:function(t){for(var e in console.log("["+t+"]"),this.s_title_number)if(this.s_title_number[e]==t){this.title_number=e;break}""==this.title_number_input&&(this.title_number_input=" ",this.title_number="")," "==this.title_number_input&&(this.title_number="")},regulation:function(t){t&&1==this.phase&&(this.phase=2)},_form_p:function(t,e){this.$emit("searchForm",this._form_p)}},methods:{execCreated:function(){var t=this;this.s_regulation=this.$store.getters.const("ws_s_regulation"),this.$http.post("/system/app/api/cardparam/"+this.game_title_id).then(function(e){var s=e.data;t.s_title_number=s.title_number_select,t.init=0}).catch(function(t){document.location="/systemError"})},changeRegulation:function(){this.regulation="",this.title_number="",this.title_number_input=" ",this.regulation="",this.phase=1},getSuggestionList:function(t){var e=this;return this.$http.post("/system/app/api/suggest/"+this.game_title_id,{param:t}).then(function(s){var i=[];for(var a in s.data)i.push(s.data[a]);return e.curSuggestionValue=t,i}).catch(function(t){document.location="/systemError"})},titleNumberNone:function(){this.title_number_input=" ",this.title_number=""},clearTitleNumberInput:function(){this.title_number_input=" ",this.title_number=""}}}),y=v,C=Object(m["a"])(y,g,b,!1,null,null,null),w=C.exports,L={name:"list",mixins:[l["a"]],components:{Session:o["a"],Message:n["a"],ListFormWS:w,ListFormVG:f},head:{title:function(){return{inner:this.$t('List["デッキ一覧"]'),complement:this.$store.getters.const("site_title")}}},created:function(){$("html,body").css({"overflow-x":"visible","overflow-y":"visible"}),this.form_p_change=r()(function(t){this.execSearch()},500),this.execCreated()},computed:{_form_p:function(){return JSON.stringify(this.form_p)},_form_p_content:function(){return this.form_p.content}},watch:{init:function(){this.execInit()},session_loaded:function(){this.execInit()},$route:function(t,e){this.execCreated()},_form_p:function(t,e){this.form_p_change()},popup_disabled_check:function(){this.setPopupDisable()},_form_p_content:function(){this.form_p.keyword="",this.form_p.deck_param1="",this.form_p.deck_param2=""}},data:function(){return{message:"",init:2,init_default:2,page_count:0,page:1,deck_id:"",cur_deck_id:"",title:"",game_title_id:"",battle_title:"",game_title:"",game_format_name:"",list:[],zero_result:!1,sr_init:!1,loading_wait:!1,is_first_popup:!0,list_popup_disabled:!1,popup_disabled_check:!1,cur_deck_count:-1,session_loaded:!1,inited:!1,s_game_title_id:null,form_p:{keyword:"",content:"",deck_param1:"",deck_param2:""},form_p_default:null}},methods:{initData:function(){this.$toasted.clear(),this.message="",this.init=this.init_default,this.inited=!1,this.form_p_default=JSON.stringify(this.form_p),this.s_game_title_id=this.$store.getters.const("game_title_text"),this.list=[],this.deck_id="",this.cur_deck_id="",this.title="",this.list_popup_disabled=this.$cookies.get("list_popup_disabled"),this.list_popup_disabled||(this.list_popup_disabled=!1)},execCreated:function(){var t=this;this.initData(),this.$http.post("/system/app/api/battleinfo/").then(function(e){e.data&&(t.game_title_id=e.data.game_title_id,t.form_p.content=t.game_title_id,t.battle_title=e.data.battle_title,t.game_title=e.data.game_title,t.game_format_name=e.data.game_format_name,t.cur_deck_id=e.data.cur_deck_id),t.init-=1}).catch(function(t){document.location="/systemError"}),this.$http.post("/system/app/api/list/",{param:this.form_p}).then(function(e){t.page=1,t.page_count=e.data.page_count,t.list=e.data.list,t.list&&t.list.length>0?t.zero_result=!1:t.zero_result=!0,t.init-=1}).catch(function(t){document.location="/systemError"}),this.setDeckCount()},execInit:function(){if(this.init<=0&&this.session_loaded&&!this.inited){this.inited=!0,this.$emit("fadein");var t=this,e=setInterval(function(){$("#deckselect_detail_button")[0]&&(clearInterval(e),setTimeout(function(){t.$store.getters.select&&!t.list_popup_disabled&&t.openDeckselectPopup(!0)},300))},100);setInterval(function(){if($("#deck-list")[0]&&!t.zero_result&&t.page<t.page_count){var e=window.location.origin;$(".baseurlinfo").text(e);var s=$("#deck-list").offset().top+$("#deck-list").height(),i=$(window).scrollTop()+$(window).height();s+60<i&&t.pager()}},300)}},sessionLoaded:function(){this.session_loaded=!0},searchForm:function(t){this.form_p.deck_param1=t.deck_param1,this.form_p.deck_param2=t.deck_param2},execSearch:function(){var t=this;this.loading_wait=!0,this.zero_result=!1,$("#deck-list").css("opacity",.2),this.$http.post("/system/app/api/list/",{param:this.form_p}).then(function(e){t.page=1,t.page_count=e.data.page_count,t.list=e.data.list,t.list&&t.list.length>0?t.zero_result=!1:t.zero_result=!0,$("#deck-list").css("opacity",1),t.loading_wait=!1}).catch(function(e){t.loading_wait=!1,document.location="/systemError"})},pager:function(){var t=this;document.getElementById("deck-list");if(!this.zero_result&&this.page<this.page_count&&0==this.loading_wait){this.loading_wait=!0,$("#deck-list").css("opacity",.2),this.page++;var e=this.page;this.$http.post("/system/app/api/list/"+e,{param:this.form_p}).then(function(e){t.page_count=e.data.page_count;var s=e.data.list;t.list=t.list.concat(s),$("#deck-list").css("opacity",1),t.loading_wait=!1}).catch(function(e){t.page--,t.$toasted.show(t.$t('List["エラーが発生しました"]')),t.loading_wait=!1})}},delete_deck:function(t){var e=this;confirm(this.$t('List["削除します。よろしいですか？"]'))&&this.$http.post("/system/app/api/delete/"+t).then(function(s){var i;"OK"==s.data.status?function(){var s=e;for(i=0;i<e.list.length;i++)if(e.list[i].id==t){$("#deck-list .deck-item.item-"+t).addClass("deleting").fadeOut(300),setTimeout(function(){s.list.splice(i,1)},500);break}e.setDeckCount()}():e.$toasted.show(s.data.message)}).catch(function(t){document.location="/systemError"})},selectDeck:function(t){var e=this;t&&($("#loader-bg").addClass("white").css("position","fixed").css("opacity",1).show(),this.deck_id=t,this.$http.post("/system/app/auth/selectdeck/",{id:t}).then(function(t){if("OK"==t.data){$("#loader-bg").hide().removeClass("white").css("opacity",0).css("position","absolute");var s={deck_id:e.deck_id,game_title_id:e.game_title_id,battle_title:e.battle_title,game_title:e.game_title,game_format_name:e.game_format_name};e.__trans("/select"),e.$store.commit("setSelected",s)}else{var i="";switch(t.data){case"USER_ERROR":e.__trans("/authError/");break;case"SELECT_ERROR":i=e.$t('List["使用できないデッキが選択されました。"]')+"<br />"+e.$t('List["もう一度最初からやり直してください。"]');break;case"NOT_SELECT_ERROR":i=e.$t('List["指定の大会には現在デッキ登録が出来ません。"]')+"<br />"+e.$t('List["ブシナビからもう一度最初からやり直してください。"]');break;case"DB_ERROR":i=e.$t('List["デッキ登録でエラーが発生しました。"]')+"<br />"+e.$t('List["管理者にお問い合わせください。"]');break;default:i=e.$t('List["セッションエラーが発生しました。"]')+"<br />"+e.$t('List["ブシナビからもう一度最初からやり直してください。"]');break}$("#loader-bg").hide().removeClass("white").css("opacity",0).css("position","absolute"),e.$toasted.show(i)}}).catch(function(t){document.location="/systemError"}))},form_p_reset:function(){this.form_p.content="",this.form_p.keyword=""},_content_name:function(t){var e=this.$store.getters.const("game_title_ids_rev")[t];return e&&(e=" ["+e+"]"),e},editcopyId:function(t){return t.status==this.$store.getters.const("deck_status")["DRAFT"]?"d-"+t.id:t.deck_id},openDeckselectPopup:function(t){this.$bvModal.show("deckselect_detail"),this.is_first_popup=!!t;var e=this,s=setInterval(function(){$("#deckselect_detail .modal-header")[0]&&(clearInterval(s),$("#deckselect_detail .modal-header").click(function(){e.$bvModal.hide("deckselect_detail")}))},300)},openIconPopup:function(){this.$bvModal.show("icon_detail");var t=this,e=setInterval(function(){$("#icon_detail .modal-header")[0]&&(clearInterval(e),$("#icon_detail .modal-header").click(function(){t.$bvModal.hide("icon_detail")}))},300)},setPopupDisable:function(){this.popup_disabled_check?(this.$cookies.config(94608e5,""),this.$cookies.set("list_popup_disabled",!0),this.list_popup_disabled=!0):(this.$cookies.remove("list_popup_disabled"),this.list_popup_disabled=!0)},getDeckId:function(t){return t.status==this.$store.getters.const("deck_status")["DRAFT"]?"":t.deck_id?"【"+t.deck_id+"】":""},getRegulationName:function(t){var e="",s=t.game_title_id,i=(t.deck_param1,t.disp_deck_param2);this.$store.getters.const("game_title_ids_rev")[s];return i&&(e=e+'<span class="second">'+i+"<span>"),e&&(e+="<br />"),e},checkCanSelect:function(t){return!(!this.$store.getters.select||""==this.game_title_id||this.game_title_id!=t.game_title_id||t.used||t.status!=this.$store.getters.const("deck_status")["PUBLISH"])},checkCanEdit:function(t){return t.status==this.$store.getters.const("deck_status")["DRAFT"]},checkCanDelete:function(t){return!t.used},setDeckCount:function(){var t=this;this.$http.post("/system/app/api/curdeckcount/").then(function(e){e&&(t.cur_deck_count=e.data)}).catch(function(t){})}}},x=L,S=Object(m["a"])(x,i,a,!1,null,null,null);e["default"]=S.exports},"92b1":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div")},a=[],o={name:"Session",props:{required:{type:Boolean,required:!1,default:!1},select:{type:Boolean,required:!1,default:!1}},created:function(){var t=this;this.version_check(!1),this.$http.get("/system/app/api/session/").then(function(e){if(e.data){if(t.$store.dispatch("setSession",e.data),t.required&&!e.data.session)return void(document.location="/");if(t.select&&!e.data.select)return void(document.location="/accessError");t.$emit("sessionLoaded")}else if(t.required)return void(document.location="/")}).catch(function(t){document.location="/systemError"})},methods:{version_check:function(t){var e=this;if(t&&(this.$emit("sessionLoaded"),alert(this.$store.getters.system_update_message),location.reload()),"/complete"!=this.$route.path&&"/complete/"!=this.$route.path){var s=this.$store.getters.version;this.$http.get("/system/app/api/version/").then(function(t){if(t.data){var i=t.data;if(i)if(""==s)e.$store.commit("setVersion",i);else if(s!=i)return e.$emit("sessionLoaded"),alert(e.$store.getters.system_update_message),void location.reload()}}).catch(function(t){document.location="/systemError"})}}}},n=o,c=s("2877"),r=Object(c["a"])(n,i,a,!1,null,null,null);e["a"]=r.exports}}]);